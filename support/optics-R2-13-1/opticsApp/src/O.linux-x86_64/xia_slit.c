/* C code for program xia_slit, generated by snc from ../xia_slit.st */
#include <string.h>
#include <stddef.h>
#include <stdio.h>
#include <limits.h>

#include "seq_snc.h"
# line 88 "../xia_slit.st"
#include <stdio.h>
# line 89 "../xia_slit.st"
#include <math.h>
# line 90 "../xia_slit.st"
#include <string.h>
# line 91 "../xia_slit.st"
#include <epicsThread.h>
# line 180 "../xia_slit.st"
static const EF_ID s_ainp_mon = 1;
# line 215 "../xia_slit.st"
static const EF_ID hID_mon = 2;
# line 216 "../xia_slit.st"
static const EF_ID vID_mon = 3;
# line 217 "../xia_slit.st"
static const EF_ID hOrient_mon = 4;
# line 218 "../xia_slit.st"
static const EF_ID vOrient_mon = 5;
# line 230 "../xia_slit.st"
static const EF_ID stop_mon = 6;
# line 281 "../xia_slit.st"
static const EF_ID t_event_mon = 7;
# line 288 "../xia_slit.st"
static const EF_ID l_event_mon = 8;
# line 295 "../xia_slit.st"
static const EF_ID b_event_mon = 9;
# line 302 "../xia_slit.st"
static const EF_ID r_event_mon = 10;
# line 309 "../xia_slit.st"
static const EF_ID h0_event_mon = 11;
# line 316 "../xia_slit.st"
static const EF_ID v0_event_mon = 12;
# line 323 "../xia_slit.st"
static const EF_ID width_event_mon = 13;
# line 330 "../xia_slit.st"
static const EF_ID height_event_mon = 14;
# line 377 "../xia_slit.st"
static const EF_ID start_H_move = 15;
# line 378 "../xia_slit.st"
static const EF_ID start_V_move = 16;
# line 379 "../xia_slit.st"
static const EF_ID wait_H_input = 17;
# line 380 "../xia_slit.st"
static const EF_ID wait_V_input = 18;
# line 381 "../xia_slit.st"
static const EF_ID new_H_RB = 19;
# line 382 "../xia_slit.st"
static const EF_ID new_V_RB = 20;
# line 383 "../xia_slit.st"
static const EF_ID move_h = 21;
# line 384 "../xia_slit.st"
static const EF_ID move_v = 22;

/* Variable declarations */
struct seqg_vars {
# line 180 "../xia_slit.st"
	string s_ainp;
# line 181 "../xia_slit.st"
	string s_tinp;
# line 182 "../xia_slit.st"
	string s_aout;
# line 183 "../xia_slit.st"
	string s_ieos;
# line 184 "../xia_slit.st"
	string s_oeos;
# line 186 "../xia_slit.st"
	double s_tmot;
# line 188 "../xia_slit.st"
	short s_ofmt;
# line 189 "../xia_slit.st"
	short s_ifmt;
# line 190 "../xia_slit.st"
	short s_port;
# line 191 "../xia_slit.st"
	short s_tmod;
# line 192 "../xia_slit.st"
	short s_scan;
# line 193 "../xia_slit.st"
	short s_nord;
# line 194 "../xia_slit.st"
	short s_nrrd;
# line 196 "../xia_slit.st"
	short s_proc;
# line 198 "../xia_slit.st"
	int s_sevr;
# line 199 "../xia_slit.st"
	int s_optioniv;
# line 201 "../xia_slit.st"
	short s_baud;
# line 202 "../xia_slit.st"
	short s_dbit;
# line 203 "../xia_slit.st"
	short s_sbit;
# line 204 "../xia_slit.st"
	short s_prty;
# line 205 "../xia_slit.st"
	short s_mctl;
# line 206 "../xia_slit.st"
	short s_fctl;
# line 208 "../xia_slit.st"
	int debug_flag;
# line 214 "../xia_slit.st"
	string port;
# line 215 "../xia_slit.st"
	string hID;
# line 216 "../xia_slit.st"
	string vID;
# line 217 "../xia_slit.st"
	short hOrient;
# line 218 "../xia_slit.st"
	short vOrient;
# line 220 "../xia_slit.st"
	short hBusy;
# line 221 "../xia_slit.st"
	short h_Busy;
# line 222 "../xia_slit.st"
	short h_BusyOff;
# line 223 "../xia_slit.st"
	short h_BusyDisable;
# line 225 "../xia_slit.st"
	short vBusy;
# line 226 "../xia_slit.st"
	short v_Busy;
# line 227 "../xia_slit.st"
	short v_BusyOff;
# line 228 "../xia_slit.st"
	short v_BusyDisable;
# line 230 "../xia_slit.st"
	short stop;
# line 231 "../xia_slit.st"
	short locate;
# line 232 "../xia_slit.st"
	short init;
# line 233 "../xia_slit.st"
	short enable;
# line 234 "../xia_slit.st"
	short calibrate;
# line 237 "../xia_slit.st"
	int hOuterLimit;
# line 238 "../xia_slit.st"
	int vOuterLimit;
# line 241 "../xia_slit.st"
	int hOrigin;
# line 242 "../xia_slit.st"
	int vOrigin;
# line 245 "../xia_slit.st"
	int hStepDelay;
# line 246 "../xia_slit.st"
	int vStepDelay;
# line 249 "../xia_slit.st"
	int hGearBacklash;
# line 250 "../xia_slit.st"
	int vGearBacklash;
# line 253 "../xia_slit.st"
	int hStPwr;
# line 254 "../xia_slit.st"
	int hStLmts;
# line 255 "../xia_slit.st"
	int hStBan;
# line 256 "../xia_slit.st"
	int hStEcho;
# line 257 "../xia_slit.st"
	int hStLock;
# line 258 "../xia_slit.st"
	int hStAlias;
# line 259 "../xia_slit.st"
	int hStText;
# line 261 "../xia_slit.st"
	int vStPwr;
# line 262 "../xia_slit.st"
	int vStLmts;
# line 263 "../xia_slit.st"
	int vStBan;
# line 264 "../xia_slit.st"
	int vStEcho;
# line 265 "../xia_slit.st"
	int vStLock;
# line 266 "../xia_slit.st"
	int vStAlias;
# line 267 "../xia_slit.st"
	int vStText;
# line 280 "../xia_slit.st"
	double t;
# line 281 "../xia_slit.st"
	double t_event;
# line 282 "../xia_slit.st"
	double t_hi;
# line 283 "../xia_slit.st"
	double t_lo;
# line 284 "../xia_slit.st"
	double t_RB;
# line 285 "../xia_slit.st"
	double load_t;
# line 287 "../xia_slit.st"
	double l;
# line 288 "../xia_slit.st"
	double l_event;
# line 289 "../xia_slit.st"
	double l_hi;
# line 290 "../xia_slit.st"
	double l_lo;
# line 291 "../xia_slit.st"
	double l_RB;
# line 292 "../xia_slit.st"
	double load_l;
# line 294 "../xia_slit.st"
	double b;
# line 295 "../xia_slit.st"
	double b_event;
# line 296 "../xia_slit.st"
	double b_hi;
# line 297 "../xia_slit.st"
	double b_lo;
# line 298 "../xia_slit.st"
	double b_RB;
# line 299 "../xia_slit.st"
	double load_b;
# line 301 "../xia_slit.st"
	double r;
# line 302 "../xia_slit.st"
	double r_event;
# line 303 "../xia_slit.st"
	double r_hi;
# line 304 "../xia_slit.st"
	double r_lo;
# line 305 "../xia_slit.st"
	double r_RB;
# line 306 "../xia_slit.st"
	double load_r;
# line 308 "../xia_slit.st"
	double h0;
# line 309 "../xia_slit.st"
	double h0_event;
# line 310 "../xia_slit.st"
	double h0_hi;
# line 311 "../xia_slit.st"
	double h0_lo;
# line 312 "../xia_slit.st"
	double h0_RB;
# line 313 "../xia_slit.st"
	double load_h0;
# line 315 "../xia_slit.st"
	double v0;
# line 316 "../xia_slit.st"
	double v0_event;
# line 317 "../xia_slit.st"
	double v0_hi;
# line 318 "../xia_slit.st"
	double v0_lo;
# line 319 "../xia_slit.st"
	double v0_RB;
# line 320 "../xia_slit.st"
	double load_v0;
# line 322 "../xia_slit.st"
	double width;
# line 323 "../xia_slit.st"
	double width_event;
# line 324 "../xia_slit.st"
	double width_hi;
# line 325 "../xia_slit.st"
	double width_lo;
# line 326 "../xia_slit.st"
	double width_RB;
# line 327 "../xia_slit.st"
	double load_width;
# line 329 "../xia_slit.st"
	double height;
# line 330 "../xia_slit.st"
	double height_event;
# line 331 "../xia_slit.st"
	double height_hi;
# line 332 "../xia_slit.st"
	double height_lo;
# line 333 "../xia_slit.st"
	double height_RB;
# line 334 "../xia_slit.st"
	double load_height;
# line 336 "../xia_slit.st"
	int error;
# line 337 "../xia_slit.st"
	string errMsg;
# line 343 "../xia_slit.st"
	char myChar;
# line 344 "../xia_slit.st"
	char *SNLtaskName;
# line 345 "../xia_slit.st"
	double dScratch;
# line 347 "../xia_slit.st"
	int numWords;
# line 348 "../xia_slit.st"
	string word1;
# line 349 "../xia_slit.st"
	string word2;
# line 350 "../xia_slit.st"
	string word3;
# line 351 "../xia_slit.st"
	string word4;
# line 352 "../xia_slit.st"
	string word5;
# line 353 "../xia_slit.st"
	string word6;
# line 354 "../xia_slit.st"
	int hCSW;
# line 355 "../xia_slit.st"
	int vCSW;
# line 356 "../xia_slit.st"
	int h_isMoving;
# line 357 "../xia_slit.st"
	int v_isMoving;
# line 360 "../xia_slit.st"
	int pos_a;
# line 361 "../xia_slit.st"
	int pos_b;
# line 362 "../xia_slit.st"
	double pos_ag;
# line 363 "../xia_slit.st"
	double pos_bg;
# line 370 "../xia_slit.st"
	int l_raw;
# line 371 "../xia_slit.st"
	int r_raw;
# line 372 "../xia_slit.st"
	int t_raw;
# line 373 "../xia_slit.st"
	int b_raw;
# line 374 "../xia_slit.st"
	string id;
# line 375 "../xia_slit.st"
	short hasID;
# line 376 "../xia_slit.st"
	string hscErrors[14];
# line 385 "../xia_slit.st"
	double t_old;
# line 386 "../xia_slit.st"
	double l_old;
# line 387 "../xia_slit.st"
	double b_old;
# line 388 "../xia_slit.st"
	double r_old;
# line 389 "../xia_slit.st"
	double width_old;
# line 390 "../xia_slit.st"
	double height_old;
# line 391 "../xia_slit.st"
	double h0_old;
# line 392 "../xia_slit.st"
	double v0_old;
# line 393 "../xia_slit.st"
	int i;
# line 394 "../xia_slit.st"
	int delta;
# line 395 "../xia_slit.st"
	int init_delay;
# line 396 "../xia_slit.st"
	int ainp_fifo_write;
# line 397 "../xia_slit.st"
	int ainp_fifo_read;
# line 398 "../xia_slit.st"
	string ainp_fifo[40];
# line 399 "../xia_slit.st"
	string scratch;
# line 402 "../xia_slit.st"
	int hsc_timeout;
# line 403 "../xia_slit.st"
	string hsc_command;
# line 404 "../xia_slit.st"
	string hsc_response;
};


/* Function declarations */

#define seqg_var (*(struct seqg_vars *const *)seqg_env)

/* Program init func */
static void seqg_init(PROG_ID seqg_env)
{
}

/****** Code for state "startup" in state set "xiahsc" ******/

/* Event function for state "startup" in state set "xiahsc" */
static seqBool seqg_event_xiahsc_0_startup(SS_ID seqg_env, int *seqg_ptrn, int *seqg_pnst)
{
	if (TRUE)
	{
		*seqg_pnst = 3;
		*seqg_ptrn = 0;
		return TRUE;
	}
	return FALSE;
}

/* Action function for state "startup" in state set "xiahsc" */
static void seqg_action_xiahsc_0_startup(SS_ID seqg_env, int seqg_trn, int *seqg_pnst)
{
	switch(seqg_trn)
	{
	case 0:
		{
# line 580 "../xia_slit.st"
			seq_pvGetTmo(seqg_env, 0/*s_ainp*/, DEFAULT, DEFAULT_TIMEOUT);
# line 581 "../xia_slit.st"
			seq_pvGetTmo(seqg_env, 2/*s_aout*/, DEFAULT, DEFAULT_TIMEOUT);
			{
# line 582 "../xia_slit.st"
				seqg_var->init = (1);
# line 582 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 38/*init*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 582 "../xia_slit.st"
			;
# line 583 "../xia_slit.st"
			seqg_var->init_delay = 1.0;
# line 588 "../xia_slit.st"
			strcpy(seqg_var->port, seq_macValueGet(seqg_env, "S"));
# line 589 "../xia_slit.st"
			seq_pvPutTmo(seqg_env, 23/*port*/, DEFAULT, DEFAULT_TIMEOUT);
# line 591 "../xia_slit.st"
			strcpy(seqg_var->hscErrors[0], "Missing Command");
# line 592 "../xia_slit.st"
			strcpy(seqg_var->hscErrors[1], "Unrecognized Command");
# line 593 "../xia_slit.st"
			strcpy(seqg_var->hscErrors[2], "Input Buffer Overflow");
# line 594 "../xia_slit.st"
			strcpy(seqg_var->hscErrors[3], "No new Alias Given");
# line 595 "../xia_slit.st"
			strcpy(seqg_var->hscErrors[4], "Alias too long");
# line 596 "../xia_slit.st"
			strcpy(seqg_var->hscErrors[5], "Invalid Field Parameter");
# line 597 "../xia_slit.st"
			strcpy(seqg_var->hscErrors[6], "Value Out of Range");
# line 598 "../xia_slit.st"
			strcpy(seqg_var->hscErrors[7], "Parameter is read-only");
# line 599 "../xia_slit.st"
			strcpy(seqg_var->hscErrors[8], "Invalid/Missing Argument");
# line 600 "../xia_slit.st"
			strcpy(seqg_var->hscErrors[9], "No Movement Required");
# line 601 "../xia_slit.st"
			strcpy(seqg_var->hscErrors[10], "Uncalibrated: no motion allowed");
# line 602 "../xia_slit.st"
			strcpy(seqg_var->hscErrors[11], "Motion out of range");
# line 603 "../xia_slit.st"
			strcpy(seqg_var->hscErrors[12], "Invalid/missing direction character");
# line 604 "../xia_slit.st"
			strcpy(seqg_var->hscErrors[13], "Invalid Motor Specified");
# line 606 "../xia_slit.st"
			seq_pvGetTmo(seqg_env, 24/*hID*/, SYNC, DEFAULT_TIMEOUT);
# line 607 "../xia_slit.st"
			seq_pvGetTmo(seqg_env, 25/*vID*/, SYNC, DEFAULT_TIMEOUT);
# line 613 "../xia_slit.st"
			seqg_var->t_old = seqg_var->t;
# line 613 "../xia_slit.st"
			seqg_var->b_old = seqg_var->b;
# line 614 "../xia_slit.st"
			seqg_var->l_old = seqg_var->l;
# line 614 "../xia_slit.st"
			seqg_var->r_old = seqg_var->r;
# line 615 "../xia_slit.st"
			seqg_var->h0_old = seqg_var->h0;
# line 615 "../xia_slit.st"
			seqg_var->width_old = seqg_var->width;
# line 616 "../xia_slit.st"
			seqg_var->v0_old = seqg_var->v0;
# line 616 "../xia_slit.st"
			seqg_var->height_old = seqg_var->height;
# line 619 "../xia_slit.st"
			seqg_var->hOrigin = seqg_var->vOrigin = 400;
# line 620 "../xia_slit.st"
			seqg_var->hOuterLimit = seqg_var->vOuterLimit = 4400;
			{
# line 622 "../xia_slit.st"
				seqg_var->enable = (1);
# line 622 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 39/*enable*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 622 "../xia_slit.st"
			;
			{
# line 623 "../xia_slit.st"
				seqg_var->s_tmot = (.250);
# line 623 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 5/*s_tmot*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 623 "../xia_slit.st"
			;
		}
		return;
	}
}

/****** Code for state "disable" in state set "xiahsc" ******/

/* Event function for state "disable" in state set "xiahsc" */
static seqBool seqg_event_xiahsc_0_disable(SS_ID seqg_env, int *seqg_ptrn, int *seqg_pnst)
{
# line 631 "../xia_slit.st"
	if (seqg_var->enable)
	{
		*seqg_pnst = 3;
		*seqg_ptrn = 0;
		return TRUE;
	}
	return FALSE;
}

/* Action function for state "disable" in state set "xiahsc" */
static void seqg_action_xiahsc_0_disable(SS_ID seqg_env, int seqg_trn, int *seqg_pnst)
{
	switch(seqg_trn)
	{
	case 0:
		{
# line 632 "../xia_slit.st"
			seqg_var->init_delay = 1.0;
			{
# line 633 "../xia_slit.st"
				seqg_var->init = (1);
# line 633 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 38/*init*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 633 "../xia_slit.st"
			;
		}
		return;
	}
}

/****** Code for state "comm_error" in state set "xiahsc" ******/

/* Event function for state "comm_error" in state set "xiahsc" */
static seqBool seqg_event_xiahsc_0_comm_error(SS_ID seqg_env, int *seqg_ptrn, int *seqg_pnst)
{
# line 641 "../xia_slit.st"
	if (seqg_var->init || !seqg_var->s_sevr || seq_delay(seqg_env, (10 * 60.0)))
	{
		*seqg_pnst = 3;
		*seqg_ptrn = 0;
		return TRUE;
	}
	return FALSE;
}

/* Action function for state "comm_error" in state set "xiahsc" */
static void seqg_action_xiahsc_0_comm_error(SS_ID seqg_env, int seqg_trn, int *seqg_pnst)
{
	switch(seqg_trn)
	{
	case 0:
		{
# line 642 "../xia_slit.st"
			if (seqg_var->debug_flag >= 20)
			{
# line 642 "../xia_slit.st"
				printf("(%s,%d): ", "../xia_slit.st", 642);
# line 642 "../xia_slit.st"
				printf("comm_error: init=%d  s_sevr=%d", seqg_var->init, seqg_var->s_sevr);
# line 642 "../xia_slit.st"
				printf("\n");
			}
# line 643 "../xia_slit.st"
			seqg_var->init_delay = 1.0;
# line 644 "../xia_slit.st"
			seqg_var->s_sevr = 0;
			{
# line 645 "../xia_slit.st"
				seqg_var->init = (1);
# line 645 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 38/*init*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 645 "../xia_slit.st"
			;
		}
		return;
	}
}

/****** Code for state "init" in state set "xiahsc" ******/

/* Event function for state "init" in state set "xiahsc" */
static seqBool seqg_event_xiahsc_0_init(SS_ID seqg_env, int *seqg_ptrn, int *seqg_pnst)
{
# line 651 "../xia_slit.st"
	if (!seqg_var->enable)
	{
		*seqg_pnst = 1;
		*seqg_ptrn = 0;
		return TRUE;
	}
# line 652 "../xia_slit.st"
	if ((seq_efTest(seqg_env, hID_mon) || seq_efTest(seqg_env, vID_mon)))
	{
		*seqg_pnst = 3;
		*seqg_ptrn = 1;
		return TRUE;
	}
# line 669 "../xia_slit.st"
	if (seqg_var->init && seq_delay(seqg_env, seqg_var->init_delay))
	{
		*seqg_pnst = 3;
		*seqg_ptrn = 2;
		return TRUE;
	}
# line 718 "../xia_slit.st"
	if (!seqg_var->init && seq_delay(seqg_env, 0.1))
	{
		*seqg_pnst = 4;
		*seqg_ptrn = 3;
		return TRUE;
	}
	return FALSE;
}

/* Action function for state "init" in state set "xiahsc" */
static void seqg_action_xiahsc_0_init(SS_ID seqg_env, int seqg_trn, int *seqg_pnst)
{
	switch(seqg_trn)
	{
	case 0:
		{
		}
		return;
	case 1:
		{
# line 658 "../xia_slit.st"
			strcpy(seqg_var->port, seq_macValueGet(seqg_env, "S"));
# line 659 "../xia_slit.st"
			seq_pvPutTmo(seqg_env, 23/*port*/, DEFAULT, DEFAULT_TIMEOUT);
# line 663 "../xia_slit.st"
			seqg_var->init_delay = 0;
# line 664 "../xia_slit.st"
			seq_efClear(seqg_env, hID_mon);
# line 665 "../xia_slit.st"
			seq_efClear(seqg_env, vID_mon);
# line 666 "../xia_slit.st"
			seq_efClear(seqg_env, hOrient_mon);
# line 667 "../xia_slit.st"
			seq_efClear(seqg_env, vOrient_mon);
		}
		return;
	case 2:
		{
# line 673 "../xia_slit.st"
			seqg_var->error = 0;
# line 674 "../xia_slit.st"
			if (!strcmp(seqg_var->hID, seqg_var->vID))
			{
				{
# line 675 "../xia_slit.st"
					strcpy(seqg_var->errMsg, "H & V IDs must be different");
# line 675 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 112/*errMsg*/, SYNC, DEFAULT_TIMEOUT);
# line 675 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 675 "../xia_slit.st"
				;
# line 676 "../xia_slit.st"
				seqg_var->error++;
			}
# line 679 "../xia_slit.st"
			if (sscanf(seqg_var->hID, "XIAHSC-%c-%d%s", &seqg_var->myChar, &seqg_var->numWords, seqg_var->scratch) != 2)
			{
# line 680 "../xia_slit.st"
				if (sscanf(seqg_var->hID, "%c-%d%s", &seqg_var->myChar, &seqg_var->numWords, seqg_var->scratch) != 2)
				{
# line 681 "../xia_slit.st"
					if (sscanf(seqg_var->hID, "%c%d%s", &seqg_var->myChar, &seqg_var->numWords, seqg_var->scratch) != 2)
					{
						{
# line 682 "../xia_slit.st"
							strcpy(seqg_var->errMsg, "H ID not a valid HSC ID");
# line 682 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 112/*errMsg*/, SYNC, DEFAULT_TIMEOUT);
# line 682 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 682 "../xia_slit.st"
						;
# line 683 "../xia_slit.st"
						seqg_var->error++;
					}
				}
			}
# line 687 "../xia_slit.st"
			if (sscanf(seqg_var->vID, "XIAHSC-%c-%d%s", &seqg_var->myChar, &seqg_var->numWords, seqg_var->scratch) != 2)
			{
# line 688 "../xia_slit.st"
				if (sscanf(seqg_var->vID, "%c-%d%s", &seqg_var->myChar, &seqg_var->numWords, seqg_var->scratch) != 2)
				{
# line 689 "../xia_slit.st"
					if (sscanf(seqg_var->vID, "%c%d%s", &seqg_var->myChar, &seqg_var->numWords, seqg_var->scratch) != 2)
					{
						{
# line 690 "../xia_slit.st"
							strcpy(seqg_var->errMsg, "V ID not a valid HSC ID");
# line 690 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 112/*errMsg*/, SYNC, DEFAULT_TIMEOUT);
# line 690 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 690 "../xia_slit.st"
						;
# line 691 "../xia_slit.st"
						seqg_var->error++;
					}
				}
			}
# line 695 "../xia_slit.st"
			if (!strlen(seqg_var->hID))
			{
				{
# line 696 "../xia_slit.st"
					strcpy(seqg_var->errMsg, "define H ID string");
# line 696 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 112/*errMsg*/, SYNC, DEFAULT_TIMEOUT);
# line 696 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 696 "../xia_slit.st"
				;
# line 697 "../xia_slit.st"
				seqg_var->error++;
			}
# line 699 "../xia_slit.st"
			if (!strlen(seqg_var->vID))
			{
				{
# line 700 "../xia_slit.st"
					strcpy(seqg_var->errMsg, "define V ID string");
# line 700 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 112/*errMsg*/, SYNC, DEFAULT_TIMEOUT);
# line 700 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 700 "../xia_slit.st"
				;
# line 701 "../xia_slit.st"
				seqg_var->error++;
			}
# line 706 "../xia_slit.st"
			if (seqg_var->error)
			{
				{
# line 707 "../xia_slit.st"
					seqg_var->error = ((17));
# line 707 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 111/*error*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 707 "../xia_slit.st"
				;
			}
			else
			{
				{
# line 709 "../xia_slit.st"
					seqg_var->init = (0);
# line 709 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 38/*init*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 709 "../xia_slit.st"
				;
				{
# line 710 "../xia_slit.st"
					strcpy(seqg_var->errMsg, "no error");
# line 710 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 112/*errMsg*/, SYNC, DEFAULT_TIMEOUT);
# line 710 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 710 "../xia_slit.st"
				;
			}
# line 712 "../xia_slit.st"
			seq_pvPutTmo(seqg_env, 111/*error*/, DEFAULT, DEFAULT_TIMEOUT);
# line 713 "../xia_slit.st"
			seq_efClear(seqg_env, hID_mon);
# line 714 "../xia_slit.st"
			seq_efClear(seqg_env, vID_mon);
# line 716 "../xia_slit.st"
			seqg_var->init_delay = 30;
		}
		return;
	case 3:
		{
			{
# line 719 "../xia_slit.st"
				seqg_var->hBusy = ((0));
# line 719 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 28/*hBusy*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 719 "../xia_slit.st"
			;
			{
# line 720 "../xia_slit.st"
				seqg_var->vBusy = ((0));
# line 720 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 32/*vBusy*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 720 "../xia_slit.st"
			;
			{
# line 721 "../xia_slit.st"
				seqg_var->error = ((0));
# line 721 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 111/*error*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 721 "../xia_slit.st"
			;
			{
# line 722 "../xia_slit.st"
				seqg_var->h_BusyOff = (0);
# line 722 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 30/*h_BusyOff*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 722 "../xia_slit.st"
			;
			{
# line 723 "../xia_slit.st"
				seqg_var->v_BusyOff = (0);
# line 723 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 34/*v_BusyOff*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 723 "../xia_slit.st"
			;
			{
# line 727 "../xia_slit.st"
				seq_pvGetTmo(seqg_env, 15/*s_optioniv*/, DEFAULT, DEFAULT_TIMEOUT);
# line 727 "../xia_slit.st"
				if (seqg_var->s_optioniv == (1))
				{
					{
# line 727 "../xia_slit.st"
						seqg_var->s_baud = ((6));
# line 727 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 16/*s_baud*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 727 "../xia_slit.st"
					;
					{
# line 727 "../xia_slit.st"
						seqg_var->s_dbit = ((4));
# line 727 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 17/*s_dbit*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 727 "../xia_slit.st"
					;
					{
# line 727 "../xia_slit.st"
						seqg_var->s_sbit = ((1));
# line 727 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 18/*s_sbit*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 727 "../xia_slit.st"
					;
					{
# line 727 "../xia_slit.st"
						seqg_var->s_prty = ((1));
# line 727 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 19/*s_prty*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 727 "../xia_slit.st"
					;
					{
# line 727 "../xia_slit.st"
						seqg_var->s_fctl = ((1));
# line 727 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 21/*s_fctl*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 727 "../xia_slit.st"
					;
				}
			}
# line 727 "../xia_slit.st"
			;
			{
# line 731 "../xia_slit.st"
				strcpy(seqg_var->s_ieos, ("\r\n"));
# line 731 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 3/*s_ieos*/, SYNC, DEFAULT_TIMEOUT);
# line 731 "../xia_slit.st"
				epicsThreadSleep(0.01);
			}
# line 731 "../xia_slit.st"
			;
			{
# line 732 "../xia_slit.st"
				seqg_var->s_ifmt = (0);
# line 732 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 7/*s_ifmt*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 732 "../xia_slit.st"
			;
			{
# line 733 "../xia_slit.st"
				seqg_var->s_nrrd = (0);
# line 733 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 12/*s_nrrd*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 733 "../xia_slit.st"
			;
			{
# line 734 "../xia_slit.st"
				strcpy(seqg_var->s_oeos, ("\r"));
# line 734 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 4/*s_oeos*/, SYNC, DEFAULT_TIMEOUT);
# line 734 "../xia_slit.st"
				epicsThreadSleep(0.01);
			}
# line 734 "../xia_slit.st"
			;
			{
# line 735 "../xia_slit.st"
				seqg_var->s_ofmt = (0);
# line 735 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 6/*s_ofmt*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 735 "../xia_slit.st"
			;
			{
# line 736 "../xia_slit.st"
				seqg_var->s_tmod = (0);
# line 736 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 9/*s_tmod*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 736 "../xia_slit.st"
			;
			{
# line 737 "../xia_slit.st"
				seqg_var->s_scan = ((0));
# line 737 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 10/*s_scan*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 737 "../xia_slit.st"
			;
			{
# line 738 "../xia_slit.st"
				seqg_var->s_tmot = (.250);
# line 738 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 5/*s_tmot*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 738 "../xia_slit.st"
			;
# line 740 "../xia_slit.st"
			seq_efClear(seqg_env, s_ainp_mon);
# line 742 "../xia_slit.st"
			seq_efClear(seqg_env, wait_H_input);
# line 743 "../xia_slit.st"
			seq_efClear(seqg_env, wait_V_input);
# line 745 "../xia_slit.st"
			seq_efClear(seqg_env, move_h);
# line 746 "../xia_slit.st"
			seq_efClear(seqg_env, move_v);
# line 747 "../xia_slit.st"
			seq_efClear(seqg_env, new_H_RB);
# line 748 "../xia_slit.st"
			seq_efClear(seqg_env, new_V_RB);
			{
# line 750 "../xia_slit.st"
				seqg_var->stop = ((0));
# line 750 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 36/*stop*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 750 "../xia_slit.st"
			;
# line 751 "../xia_slit.st"
			epicsThreadSleep(.02);
# line 752 "../xia_slit.st"
			seq_efClear(seqg_env, stop_mon);
# line 754 "../xia_slit.st"
			seq_efClear(seqg_env, t_event_mon);
# line 754 "../xia_slit.st"
			seq_efClear(seqg_env, l_event_mon);
# line 755 "../xia_slit.st"
			seq_efClear(seqg_env, b_event_mon);
# line 755 "../xia_slit.st"
			seq_efClear(seqg_env, r_event_mon);
# line 756 "../xia_slit.st"
			seq_efClear(seqg_env, h0_event_mon);
# line 756 "../xia_slit.st"
			seq_efClear(seqg_env, width_event_mon);
# line 757 "../xia_slit.st"
			seq_efClear(seqg_env, v0_event_mon);
# line 757 "../xia_slit.st"
			seq_efClear(seqg_env, height_event_mon);
			{
# line 758 "../xia_slit.st"
				seqg_var->calibrate = ((0));
# line 758 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 40/*calibrate*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 758 "../xia_slit.st"
			;
# line 760 "../xia_slit.st"
			seq_efClear(seqg_env, hID_mon);
# line 761 "../xia_slit.st"
			seq_efClear(seqg_env, vID_mon);
# line 762 "../xia_slit.st"
			seq_efClear(seqg_env, hOrient_mon);
# line 763 "../xia_slit.st"
			seq_efClear(seqg_env, vOrient_mon);
			{
# line 769 "../xia_slit.st"
				sprintf(seqg_var->hsc_command, "!%s %s", "ALL", ("K"));
# line 769 "../xia_slit.st"
				if (seqg_var->debug_flag >= 10)
				{
# line 769 "../xia_slit.st"
					printf("<%s,%d,%s,%d> ", "../xia_slit.st", 769, seqg_var->SNLtaskName, 10);
# line 769 "../xia_slit.st"
					;
# line 769 "../xia_slit.st"
					printf("WRITE_HSC: <%s>", seqg_var->hsc_command);
# line 769 "../xia_slit.st"
					printf("\n");
# line 769 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 769 "../xia_slit.st"
				;
				{
# line 769 "../xia_slit.st"
					seqg_var->s_scan = ((0));
# line 769 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 10/*s_scan*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 769 "../xia_slit.st"
				;
				{
# line 769 "../xia_slit.st"
					seqg_var->s_tmod = ((1));
# line 769 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 9/*s_tmod*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 769 "../xia_slit.st"
				;
				{
# line 769 "../xia_slit.st"
					strcpy(seqg_var->s_ieos, ("\r\n"));
# line 769 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 3/*s_ieos*/, SYNC, DEFAULT_TIMEOUT);
# line 769 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 769 "../xia_slit.st"
				;
				{
# line 769 "../xia_slit.st"
					strcpy(seqg_var->s_oeos, ("\r"));
# line 769 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 4/*s_oeos*/, SYNC, DEFAULT_TIMEOUT);
# line 769 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 769 "../xia_slit.st"
				;
				{
# line 769 "../xia_slit.st"
					strcpy(seqg_var->s_aout, seqg_var->hsc_command);
# line 769 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 2/*s_aout*/, SYNC, DEFAULT_TIMEOUT);
# line 769 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 769 "../xia_slit.st"
				;
			}
# line 769 "../xia_slit.st"
			;
# line 770 "../xia_slit.st"
			epicsThreadSleep(.1);
			{
# line 771 "../xia_slit.st"
				sprintf(seqg_var->hsc_command, "!%s %s", "ALL", ("P"));
# line 771 "../xia_slit.st"
				if (seqg_var->debug_flag >= 10)
				{
# line 771 "../xia_slit.st"
					printf("<%s,%d,%s,%d> ", "../xia_slit.st", 771, seqg_var->SNLtaskName, 10);
# line 771 "../xia_slit.st"
					;
# line 771 "../xia_slit.st"
					printf("WRITE_HSC: <%s>", seqg_var->hsc_command);
# line 771 "../xia_slit.st"
					printf("\n");
# line 771 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 771 "../xia_slit.st"
				;
				{
# line 771 "../xia_slit.st"
					seqg_var->s_scan = ((0));
# line 771 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 10/*s_scan*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 771 "../xia_slit.st"
				;
				{
# line 771 "../xia_slit.st"
					seqg_var->s_tmod = ((1));
# line 771 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 9/*s_tmod*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 771 "../xia_slit.st"
				;
				{
# line 771 "../xia_slit.st"
					strcpy(seqg_var->s_ieos, ("\r\n"));
# line 771 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 3/*s_ieos*/, SYNC, DEFAULT_TIMEOUT);
# line 771 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 771 "../xia_slit.st"
				;
				{
# line 771 "../xia_slit.st"
					strcpy(seqg_var->s_oeos, ("\r"));
# line 771 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 4/*s_oeos*/, SYNC, DEFAULT_TIMEOUT);
# line 771 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 771 "../xia_slit.st"
				;
				{
# line 771 "../xia_slit.st"
					strcpy(seqg_var->s_aout, seqg_var->hsc_command);
# line 771 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 2/*s_aout*/, SYNC, DEFAULT_TIMEOUT);
# line 771 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 771 "../xia_slit.st"
				;
			}
# line 771 "../xia_slit.st"
			;
# line 772 "../xia_slit.st"
			epicsThreadSleep(.1);
# line 773 "../xia_slit.st"
			seqg_var->ainp_fifo_read = 0;
# line 774 "../xia_slit.st"
			seqg_var->ainp_fifo_write = 0;
# line 775 "../xia_slit.st"
			while (!seqg_var->s_sevr)
			{
				{
					{
# line 776 "../xia_slit.st"
						seqg_var->s_tmod = ((2));
# line 776 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 9/*s_tmod*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 776 "../xia_slit.st"
					;
# line 776 "../xia_slit.st"
					seq_efClear(seqg_env, s_ainp_mon);
					{
# line 776 "../xia_slit.st"
						seqg_var->s_proc = (1);
# line 776 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 13/*s_proc*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 776 "../xia_slit.st"
					;
# line 776 "../xia_slit.st"
					for (seqg_var->i = 0; seqg_var->i <= (30); seqg_var->i++)
					{
# line 776 "../xia_slit.st"
						if (seq_efTest(seqg_env, s_ainp_mon))
						{
# line 776 "../xia_slit.st"
							if (seqg_var->debug_flag >= 10)
							{
# line 776 "../xia_slit.st"
								printf("<%s,%d,%s,%d> ", "../xia_slit.st", 776, seqg_var->SNLtaskName, 10);
# line 776 "../xia_slit.st"
								;
# line 776 "../xia_slit.st"
								printf("%s\n", "READ_HSC: got a message.");
# line 776 "../xia_slit.st"
								epicsThreadSleep(0.01);
							}
# line 776 "../xia_slit.st"
							;
							break;
						}
# line 776 "../xia_slit.st"
						epicsThreadSleep(0.02);
					}
				}
# line 776 "../xia_slit.st"
				;
				{
# line 777 "../xia_slit.st"
					if (seq_efTest(seqg_env, s_ainp_mon))
					{
# line 777 "../xia_slit.st"
						strcpy(seqg_var->ainp_fifo[seqg_var->ainp_fifo_read++], seqg_var->s_ainp);
						{
# line 777 "../xia_slit.st"
							if ((seqg_var->ainp_fifo_read) >= 40)
# line 777 "../xia_slit.st"
								(seqg_var->ainp_fifo_read) = 0;
						}
# line 777 "../xia_slit.st"
						;
# line 777 "../xia_slit.st"
						seqg_var->delta = seqg_var->ainp_fifo_read - seqg_var->ainp_fifo_write;
# line 777 "../xia_slit.st"
						if (seqg_var->delta < 0)
# line 777 "../xia_slit.st"
							seqg_var->delta += 40;
# line 777 "../xia_slit.st"
						if (seqg_var->debug_flag >= 10)
						{
# line 777 "../xia_slit.st"
							printf("(%s,%d): ", "../xia_slit.st", 777);
# line 777 "../xia_slit.st"
							printf("FIFO_IN: adding msg %d:\n ->'%s'", seqg_var->delta, seqg_var->s_ainp);
# line 777 "../xia_slit.st"
							printf("\n");
						}
# line 777 "../xia_slit.st"
						;
					}
				}
# line 777 "../xia_slit.st"
				;
			}
		}
		return;
	}
}

/****** Code for state "init_limits" in state set "xiahsc" ******/

/* Event function for state "init_limits" in state set "xiahsc" */
static seqBool seqg_event_xiahsc_0_init_limits(SS_ID seqg_env, int *seqg_ptrn, int *seqg_pnst)
{
	if (TRUE)
	{
		*seqg_pnst = 5;
		*seqg_ptrn = 0;
		return TRUE;
	}
	return FALSE;
}

/* Action function for state "init_limits" in state set "xiahsc" */
static void seqg_action_xiahsc_0_init_limits(SS_ID seqg_env, int seqg_trn, int *seqg_pnst)
{
	switch(seqg_trn)
	{
	case 0:
		{
# line 790 "../xia_slit.st"
			seqg_var->error = 0;
			{
				{
# line 791 "../xia_slit.st"
					seq_efClear(seqg_env, s_ainp_mon);
# line 791 "../xia_slit.st"
					seqg_var->hsc_timeout = 1;
					{
# line 791 "../xia_slit.st"
						sprintf(seqg_var->hsc_command, "!%s %s", seqg_var->hID, ("R 5"));
# line 791 "../xia_slit.st"
						if (seqg_var->debug_flag >= 10)
						{
# line 791 "../xia_slit.st"
							printf("<%s,%d,%s,%d> ", "../xia_slit.st", 791, seqg_var->SNLtaskName, 10);
# line 791 "../xia_slit.st"
							;
# line 791 "../xia_slit.st"
							printf("WRITE_HSC: <%s>", seqg_var->hsc_command);
# line 791 "../xia_slit.st"
							printf("\n");
# line 791 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 791 "../xia_slit.st"
						;
						{
# line 791 "../xia_slit.st"
							seqg_var->s_scan = ((0));
# line 791 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 10/*s_scan*/, SYNC, DEFAULT_TIMEOUT);
						}
# line 791 "../xia_slit.st"
						;
						{
# line 791 "../xia_slit.st"
							seqg_var->s_tmod = ((0));
# line 791 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 9/*s_tmod*/, SYNC, DEFAULT_TIMEOUT);
						}
# line 791 "../xia_slit.st"
						;
						{
# line 791 "../xia_slit.st"
							strcpy(seqg_var->s_ieos, ("\r\n"));
# line 791 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 3/*s_ieos*/, SYNC, DEFAULT_TIMEOUT);
# line 791 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 791 "../xia_slit.st"
						;
						{
# line 791 "../xia_slit.st"
							strcpy(seqg_var->s_oeos, ("\r"));
# line 791 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 4/*s_oeos*/, SYNC, DEFAULT_TIMEOUT);
# line 791 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 791 "../xia_slit.st"
						;
						{
# line 791 "../xia_slit.st"
							strcpy(seqg_var->s_aout, seqg_var->hsc_command);
# line 791 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 2/*s_aout*/, SYNC, DEFAULT_TIMEOUT);
# line 791 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 791 "../xia_slit.st"
						;
					}
# line 791 "../xia_slit.st"
					;
					{
# line 791 "../xia_slit.st"
						for (seqg_var->i = (30); seqg_var->i; seqg_var->i--)
						{
# line 791 "../xia_slit.st"
							if (seq_efTest(seqg_env, s_ainp_mon))
							{
# line 791 "../xia_slit.st"
								seqg_var->hsc_timeout = 0;
								break;
							}
# line 791 "../xia_slit.st"
							epicsThreadSleep(0.02);
						}
# line 791 "../xia_slit.st"
						if (seqg_var->hsc_timeout == 1)
						{
# line 791 "../xia_slit.st"
							strcpy(seqg_var->hsc_response, "");
# line 791 "../xia_slit.st"
							if (seqg_var->debug_flag >= 10)
							{
# line 791 "../xia_slit.st"
								printf("<%s,%d,%s,%d> ", "../xia_slit.st", 791, seqg_var->SNLtaskName, 10);
# line 791 "../xia_slit.st"
								;
# line 791 "../xia_slit.st"
								printf("\nWAIT_HSC_RESPONSE: <%s> -> <<< TIMEOUT >>>", seqg_var->s_tinp);
# line 791 "../xia_slit.st"
								printf("\n");
# line 791 "../xia_slit.st"
								epicsThreadSleep(0.01);
							}
# line 791 "../xia_slit.st"
							;
						}
						else
						{
# line 791 "../xia_slit.st"
							strcpy(seqg_var->hsc_response, seqg_var->s_ainp);
# line 791 "../xia_slit.st"
							if (seqg_var->debug_flag >= 10)
							{
# line 791 "../xia_slit.st"
								printf("(%s,%d): ", "../xia_slit.st", 791);
# line 791 "../xia_slit.st"
								printf("\nWAIT_HSC_RESPONSE: <%s> -> NORD=%d  TINP=%s", seqg_var->hsc_command, seqg_var->s_nord, seqg_var->s_tinp);
# line 791 "../xia_slit.st"
								printf("\n");
							}
# line 791 "../xia_slit.st"
							;
						}
					}
# line 791 "../xia_slit.st"
					;
				}
# line 791 "../xia_slit.st"
				;
# line 791 "../xia_slit.st"
				if (sscanf(seqg_var->hsc_response, "%*s %*s %d", &seqg_var->hStepDelay) == 1)
				{
# line 791 "../xia_slit.st"
					if (seqg_var->debug_flag >= 10)
					{
# line 791 "../xia_slit.st"
						printf("(%s,%d): ", "../xia_slit.st", 791);
# line 791 "../xia_slit.st"
						printf("%s step delay %d", seqg_var->hID, seqg_var->hStepDelay);
# line 791 "../xia_slit.st"
						printf("\n");
					}
# line 791 "../xia_slit.st"
					;
# line 791 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 45/*hStepDelay*/, SYNC, DEFAULT_TIMEOUT);
				}
				else
				{
# line 791 "../xia_slit.st"
					++seqg_var->error;
# line 791 "../xia_slit.st"
					if (seqg_var->debug_flag >= 1)
					{
# line 791 "../xia_slit.st"
						printf("<%s,%d,%s,%d> ", "../xia_slit.st", 791, seqg_var->SNLtaskName, 1);
# line 791 "../xia_slit.st"
						;
# line 791 "../xia_slit.st"
						printf("%s step delay format error", seqg_var->hID);
# line 791 "../xia_slit.st"
						printf("\n");
# line 791 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 791 "../xia_slit.st"
					;
				}
			}
# line 791 "../xia_slit.st"
			;
			{
				{
# line 792 "../xia_slit.st"
					seq_efClear(seqg_env, s_ainp_mon);
# line 792 "../xia_slit.st"
					seqg_var->hsc_timeout = 1;
					{
# line 792 "../xia_slit.st"
						sprintf(seqg_var->hsc_command, "!%s %s", seqg_var->hID, ("R 6"));
# line 792 "../xia_slit.st"
						if (seqg_var->debug_flag >= 10)
						{
# line 792 "../xia_slit.st"
							printf("<%s,%d,%s,%d> ", "../xia_slit.st", 792, seqg_var->SNLtaskName, 10);
# line 792 "../xia_slit.st"
							;
# line 792 "../xia_slit.st"
							printf("WRITE_HSC: <%s>", seqg_var->hsc_command);
# line 792 "../xia_slit.st"
							printf("\n");
# line 792 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 792 "../xia_slit.st"
						;
						{
# line 792 "../xia_slit.st"
							seqg_var->s_scan = ((0));
# line 792 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 10/*s_scan*/, SYNC, DEFAULT_TIMEOUT);
						}
# line 792 "../xia_slit.st"
						;
						{
# line 792 "../xia_slit.st"
							seqg_var->s_tmod = ((0));
# line 792 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 9/*s_tmod*/, SYNC, DEFAULT_TIMEOUT);
						}
# line 792 "../xia_slit.st"
						;
						{
# line 792 "../xia_slit.st"
							strcpy(seqg_var->s_ieos, ("\r\n"));
# line 792 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 3/*s_ieos*/, SYNC, DEFAULT_TIMEOUT);
# line 792 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 792 "../xia_slit.st"
						;
						{
# line 792 "../xia_slit.st"
							strcpy(seqg_var->s_oeos, ("\r"));
# line 792 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 4/*s_oeos*/, SYNC, DEFAULT_TIMEOUT);
# line 792 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 792 "../xia_slit.st"
						;
						{
# line 792 "../xia_slit.st"
							strcpy(seqg_var->s_aout, seqg_var->hsc_command);
# line 792 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 2/*s_aout*/, SYNC, DEFAULT_TIMEOUT);
# line 792 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 792 "../xia_slit.st"
						;
					}
# line 792 "../xia_slit.st"
					;
					{
# line 792 "../xia_slit.st"
						for (seqg_var->i = (30); seqg_var->i; seqg_var->i--)
						{
# line 792 "../xia_slit.st"
							if (seq_efTest(seqg_env, s_ainp_mon))
							{
# line 792 "../xia_slit.st"
								seqg_var->hsc_timeout = 0;
								break;
							}
# line 792 "../xia_slit.st"
							epicsThreadSleep(0.02);
						}
# line 792 "../xia_slit.st"
						if (seqg_var->hsc_timeout == 1)
						{
# line 792 "../xia_slit.st"
							strcpy(seqg_var->hsc_response, "");
# line 792 "../xia_slit.st"
							if (seqg_var->debug_flag >= 10)
							{
# line 792 "../xia_slit.st"
								printf("<%s,%d,%s,%d> ", "../xia_slit.st", 792, seqg_var->SNLtaskName, 10);
# line 792 "../xia_slit.st"
								;
# line 792 "../xia_slit.st"
								printf("\nWAIT_HSC_RESPONSE: <%s> -> <<< TIMEOUT >>>", seqg_var->s_tinp);
# line 792 "../xia_slit.st"
								printf("\n");
# line 792 "../xia_slit.st"
								epicsThreadSleep(0.01);
							}
# line 792 "../xia_slit.st"
							;
						}
						else
						{
# line 792 "../xia_slit.st"
							strcpy(seqg_var->hsc_response, seqg_var->s_ainp);
# line 792 "../xia_slit.st"
							if (seqg_var->debug_flag >= 10)
							{
# line 792 "../xia_slit.st"
								printf("(%s,%d): ", "../xia_slit.st", 792);
# line 792 "../xia_slit.st"
								printf("\nWAIT_HSC_RESPONSE: <%s> -> NORD=%d  TINP=%s", seqg_var->hsc_command, seqg_var->s_nord, seqg_var->s_tinp);
# line 792 "../xia_slit.st"
								printf("\n");
							}
# line 792 "../xia_slit.st"
							;
						}
					}
# line 792 "../xia_slit.st"
					;
				}
# line 792 "../xia_slit.st"
				;
# line 792 "../xia_slit.st"
				if (sscanf(seqg_var->hsc_response, "%*s %*s %d", &seqg_var->hGearBacklash) == 1)
				{
# line 792 "../xia_slit.st"
					if (seqg_var->debug_flag >= 10)
					{
# line 792 "../xia_slit.st"
						printf("(%s,%d): ", "../xia_slit.st", 792);
# line 792 "../xia_slit.st"
						printf("%s backlash %d", seqg_var->hID, seqg_var->hGearBacklash);
# line 792 "../xia_slit.st"
						printf("\n");
					}
# line 792 "../xia_slit.st"
					;
# line 792 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 47/*hGearBacklash*/, SYNC, DEFAULT_TIMEOUT);
				}
				else
				{
# line 792 "../xia_slit.st"
					++seqg_var->error;
# line 792 "../xia_slit.st"
					if (seqg_var->debug_flag >= 1)
					{
# line 792 "../xia_slit.st"
						printf("<%s,%d,%s,%d> ", "../xia_slit.st", 792, seqg_var->SNLtaskName, 1);
# line 792 "../xia_slit.st"
						;
# line 792 "../xia_slit.st"
						printf("%s backlash format error", seqg_var->hID);
# line 792 "../xia_slit.st"
						printf("\n");
# line 792 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 792 "../xia_slit.st"
					;
				}
			}
# line 792 "../xia_slit.st"
			;
			{
				{
# line 793 "../xia_slit.st"
					seq_efClear(seqg_env, s_ainp_mon);
# line 793 "../xia_slit.st"
					seqg_var->hsc_timeout = 1;
					{
# line 793 "../xia_slit.st"
						sprintf(seqg_var->hsc_command, "!%s %s", seqg_var->hID, ("R 7"));
# line 793 "../xia_slit.st"
						if (seqg_var->debug_flag >= 10)
						{
# line 793 "../xia_slit.st"
							printf("<%s,%d,%s,%d> ", "../xia_slit.st", 793, seqg_var->SNLtaskName, 10);
# line 793 "../xia_slit.st"
							;
# line 793 "../xia_slit.st"
							printf("WRITE_HSC: <%s>", seqg_var->hsc_command);
# line 793 "../xia_slit.st"
							printf("\n");
# line 793 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 793 "../xia_slit.st"
						;
						{
# line 793 "../xia_slit.st"
							seqg_var->s_scan = ((0));
# line 793 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 10/*s_scan*/, SYNC, DEFAULT_TIMEOUT);
						}
# line 793 "../xia_slit.st"
						;
						{
# line 793 "../xia_slit.st"
							seqg_var->s_tmod = ((0));
# line 793 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 9/*s_tmod*/, SYNC, DEFAULT_TIMEOUT);
						}
# line 793 "../xia_slit.st"
						;
						{
# line 793 "../xia_slit.st"
							strcpy(seqg_var->s_ieos, ("\r\n"));
# line 793 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 3/*s_ieos*/, SYNC, DEFAULT_TIMEOUT);
# line 793 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 793 "../xia_slit.st"
						;
						{
# line 793 "../xia_slit.st"
							strcpy(seqg_var->s_oeos, ("\r"));
# line 793 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 4/*s_oeos*/, SYNC, DEFAULT_TIMEOUT);
# line 793 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 793 "../xia_slit.st"
						;
						{
# line 793 "../xia_slit.st"
							strcpy(seqg_var->s_aout, seqg_var->hsc_command);
# line 793 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 2/*s_aout*/, SYNC, DEFAULT_TIMEOUT);
# line 793 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 793 "../xia_slit.st"
						;
					}
# line 793 "../xia_slit.st"
					;
					{
# line 793 "../xia_slit.st"
						for (seqg_var->i = (30); seqg_var->i; seqg_var->i--)
						{
# line 793 "../xia_slit.st"
							if (seq_efTest(seqg_env, s_ainp_mon))
							{
# line 793 "../xia_slit.st"
								seqg_var->hsc_timeout = 0;
								break;
							}
# line 793 "../xia_slit.st"
							epicsThreadSleep(0.02);
						}
# line 793 "../xia_slit.st"
						if (seqg_var->hsc_timeout == 1)
						{
# line 793 "../xia_slit.st"
							strcpy(seqg_var->hsc_response, "");
# line 793 "../xia_slit.st"
							if (seqg_var->debug_flag >= 10)
							{
# line 793 "../xia_slit.st"
								printf("<%s,%d,%s,%d> ", "../xia_slit.st", 793, seqg_var->SNLtaskName, 10);
# line 793 "../xia_slit.st"
								;
# line 793 "../xia_slit.st"
								printf("\nWAIT_HSC_RESPONSE: <%s> -> <<< TIMEOUT >>>", seqg_var->s_tinp);
# line 793 "../xia_slit.st"
								printf("\n");
# line 793 "../xia_slit.st"
								epicsThreadSleep(0.01);
							}
# line 793 "../xia_slit.st"
							;
						}
						else
						{
# line 793 "../xia_slit.st"
							strcpy(seqg_var->hsc_response, seqg_var->s_ainp);
# line 793 "../xia_slit.st"
							if (seqg_var->debug_flag >= 10)
							{
# line 793 "../xia_slit.st"
								printf("(%s,%d): ", "../xia_slit.st", 793);
# line 793 "../xia_slit.st"
								printf("\nWAIT_HSC_RESPONSE: <%s> -> NORD=%d  TINP=%s", seqg_var->hsc_command, seqg_var->s_nord, seqg_var->s_tinp);
# line 793 "../xia_slit.st"
								printf("\n");
							}
# line 793 "../xia_slit.st"
							;
						}
					}
# line 793 "../xia_slit.st"
					;
				}
# line 793 "../xia_slit.st"
				;
# line 793 "../xia_slit.st"
				if (sscanf(seqg_var->hsc_response, "%*s %*s %d", &seqg_var->hCSW) == 1)
				{
# line 793 "../xia_slit.st"
					if (seqg_var->debug_flag >= 10)
					{
# line 793 "../xia_slit.st"
						printf("(%s,%d): ", "../xia_slit.st", 793);
# line 793 "../xia_slit.st"
						printf("%s cntrl word data %d", seqg_var->hID, seqg_var->hCSW);
# line 793 "../xia_slit.st"
						printf("\n");
					}
# line 793 "../xia_slit.st"
					;
					{
# line 793 "../xia_slit.st"
						seqg_var->hStPwr = (((0x03) & seqg_var->hCSW));
# line 793 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 49/*hStPwr*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 793 "../xia_slit.st"
					;
					{
# line 793 "../xia_slit.st"
						seqg_var->hStLmts = ((((0x04) & seqg_var->hCSW) ? 1 : 0));
# line 793 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 50/*hStLmts*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 793 "../xia_slit.st"
					;
					{
# line 793 "../xia_slit.st"
						seqg_var->hStBan = ((((0x08) & seqg_var->hCSW) ? 1 : 0));
# line 793 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 51/*hStBan*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 793 "../xia_slit.st"
					;
					{
# line 793 "../xia_slit.st"
						seqg_var->hStEcho = ((((0x10) & seqg_var->hCSW) ? 1 : 0));
# line 793 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 52/*hStEcho*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 793 "../xia_slit.st"
					;
					{
# line 793 "../xia_slit.st"
						seqg_var->hStLock = ((((0x20) & seqg_var->hCSW) ? 1 : 0));
# line 793 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 53/*hStLock*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 793 "../xia_slit.st"
					;
					{
# line 793 "../xia_slit.st"
						seqg_var->hStAlias = ((((0x40) & seqg_var->hCSW) ? 1 : 0));
# line 793 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 54/*hStAlias*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 793 "../xia_slit.st"
					;
					{
# line 793 "../xia_slit.st"
						seqg_var->hStText = ((((0x80) & seqg_var->hCSW) ? 1 : 0));
# line 793 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 55/*hStText*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 793 "../xia_slit.st"
					;
				}
				else
				{
# line 793 "../xia_slit.st"
					++seqg_var->error;
# line 793 "../xia_slit.st"
					if (seqg_var->debug_flag >= 1)
					{
# line 793 "../xia_slit.st"
						printf("<%s,%d,%s,%d> ", "../xia_slit.st", 793, seqg_var->SNLtaskName, 1);
# line 793 "../xia_slit.st"
						;
# line 793 "../xia_slit.st"
						printf("%s cntrl word format error", seqg_var->hID);
# line 793 "../xia_slit.st"
						printf("\n");
# line 793 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 793 "../xia_slit.st"
					;
				}
			}
# line 793 "../xia_slit.st"
			;
			{
# line 795 "../xia_slit.st"
				seq_efClear(seqg_env, s_ainp_mon);
# line 795 "../xia_slit.st"
				seqg_var->hsc_timeout = 1;
				{
# line 795 "../xia_slit.st"
					sprintf(seqg_var->hsc_command, "!%s %s", seqg_var->hID, ("R 1"));
# line 795 "../xia_slit.st"
					if (seqg_var->debug_flag >= 10)
					{
# line 795 "../xia_slit.st"
						printf("<%s,%d,%s,%d> ", "../xia_slit.st", 795, seqg_var->SNLtaskName, 10);
# line 795 "../xia_slit.st"
						;
# line 795 "../xia_slit.st"
						printf("WRITE_HSC: <%s>", seqg_var->hsc_command);
# line 795 "../xia_slit.st"
						printf("\n");
# line 795 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 795 "../xia_slit.st"
					;
					{
# line 795 "../xia_slit.st"
						seqg_var->s_scan = ((0));
# line 795 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 10/*s_scan*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 795 "../xia_slit.st"
					;
					{
# line 795 "../xia_slit.st"
						seqg_var->s_tmod = ((0));
# line 795 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 9/*s_tmod*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 795 "../xia_slit.st"
					;
					{
# line 795 "../xia_slit.st"
						strcpy(seqg_var->s_ieos, ("\r\n"));
# line 795 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 3/*s_ieos*/, SYNC, DEFAULT_TIMEOUT);
# line 795 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 795 "../xia_slit.st"
					;
					{
# line 795 "../xia_slit.st"
						strcpy(seqg_var->s_oeos, ("\r"));
# line 795 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 4/*s_oeos*/, SYNC, DEFAULT_TIMEOUT);
# line 795 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 795 "../xia_slit.st"
					;
					{
# line 795 "../xia_slit.st"
						strcpy(seqg_var->s_aout, seqg_var->hsc_command);
# line 795 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 2/*s_aout*/, SYNC, DEFAULT_TIMEOUT);
# line 795 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 795 "../xia_slit.st"
					;
				}
# line 795 "../xia_slit.st"
				;
				{
# line 795 "../xia_slit.st"
					for (seqg_var->i = (30); seqg_var->i; seqg_var->i--)
					{
# line 795 "../xia_slit.st"
						if (seq_efTest(seqg_env, s_ainp_mon))
						{
# line 795 "../xia_slit.st"
							seqg_var->hsc_timeout = 0;
							break;
						}
# line 795 "../xia_slit.st"
						epicsThreadSleep(0.02);
					}
# line 795 "../xia_slit.st"
					if (seqg_var->hsc_timeout == 1)
					{
# line 795 "../xia_slit.st"
						strcpy(seqg_var->hsc_response, "");
# line 795 "../xia_slit.st"
						if (seqg_var->debug_flag >= 10)
						{
# line 795 "../xia_slit.st"
							printf("<%s,%d,%s,%d> ", "../xia_slit.st", 795, seqg_var->SNLtaskName, 10);
# line 795 "../xia_slit.st"
							;
# line 795 "../xia_slit.st"
							printf("\nWAIT_HSC_RESPONSE: <%s> -> <<< TIMEOUT >>>", seqg_var->s_tinp);
# line 795 "../xia_slit.st"
							printf("\n");
# line 795 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 795 "../xia_slit.st"
						;
					}
					else
					{
# line 795 "../xia_slit.st"
						strcpy(seqg_var->hsc_response, seqg_var->s_ainp);
# line 795 "../xia_slit.st"
						if (seqg_var->debug_flag >= 10)
						{
# line 795 "../xia_slit.st"
							printf("(%s,%d): ", "../xia_slit.st", 795);
# line 795 "../xia_slit.st"
							printf("\nWAIT_HSC_RESPONSE: <%s> -> NORD=%d  TINP=%s", seqg_var->hsc_command, seqg_var->s_nord, seqg_var->s_tinp);
# line 795 "../xia_slit.st"
							printf("\n");
						}
# line 795 "../xia_slit.st"
						;
					}
				}
# line 795 "../xia_slit.st"
				;
			}
# line 795 "../xia_slit.st"
			;
# line 796 "../xia_slit.st"
			if (sscanf(seqg_var->hsc_response, "%*s %*s %d", &seqg_var->hOuterLimit) == 1)
			{
# line 798 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 41/*hOuterLimit*/, SYNC, DEFAULT_TIMEOUT);
			}
			else
			{
# line 802 "../xia_slit.st"
				seqg_var->error++;
# line 803 "../xia_slit.st"
				if (seqg_var->debug_flag >= 5)
				{
# line 803 "../xia_slit.st"
					printf("<%s,%d,%s,%d> ", "../xia_slit.st", 803, seqg_var->SNLtaskName, 5);
# line 803 "../xia_slit.st"
					;
# line 803 "../xia_slit.st"
					printf("%s\n", "Could not read horizontal outer limit");
# line 803 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 803 "../xia_slit.st"
				;
			}
			{
# line 805 "../xia_slit.st"
				seq_efClear(seqg_env, s_ainp_mon);
# line 805 "../xia_slit.st"
				seqg_var->hsc_timeout = 1;
				{
# line 805 "../xia_slit.st"
					sprintf(seqg_var->hsc_command, "!%s %s", seqg_var->hID, ("R 2"));
# line 805 "../xia_slit.st"
					if (seqg_var->debug_flag >= 10)
					{
# line 805 "../xia_slit.st"
						printf("<%s,%d,%s,%d> ", "../xia_slit.st", 805, seqg_var->SNLtaskName, 10);
# line 805 "../xia_slit.st"
						;
# line 805 "../xia_slit.st"
						printf("WRITE_HSC: <%s>", seqg_var->hsc_command);
# line 805 "../xia_slit.st"
						printf("\n");
# line 805 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 805 "../xia_slit.st"
					;
					{
# line 805 "../xia_slit.st"
						seqg_var->s_scan = ((0));
# line 805 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 10/*s_scan*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 805 "../xia_slit.st"
					;
					{
# line 805 "../xia_slit.st"
						seqg_var->s_tmod = ((0));
# line 805 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 9/*s_tmod*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 805 "../xia_slit.st"
					;
					{
# line 805 "../xia_slit.st"
						strcpy(seqg_var->s_ieos, ("\r\n"));
# line 805 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 3/*s_ieos*/, SYNC, DEFAULT_TIMEOUT);
# line 805 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 805 "../xia_slit.st"
					;
					{
# line 805 "../xia_slit.st"
						strcpy(seqg_var->s_oeos, ("\r"));
# line 805 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 4/*s_oeos*/, SYNC, DEFAULT_TIMEOUT);
# line 805 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 805 "../xia_slit.st"
					;
					{
# line 805 "../xia_slit.st"
						strcpy(seqg_var->s_aout, seqg_var->hsc_command);
# line 805 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 2/*s_aout*/, SYNC, DEFAULT_TIMEOUT);
# line 805 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 805 "../xia_slit.st"
					;
				}
# line 805 "../xia_slit.st"
				;
				{
# line 805 "../xia_slit.st"
					for (seqg_var->i = (30); seqg_var->i; seqg_var->i--)
					{
# line 805 "../xia_slit.st"
						if (seq_efTest(seqg_env, s_ainp_mon))
						{
# line 805 "../xia_slit.st"
							seqg_var->hsc_timeout = 0;
							break;
						}
# line 805 "../xia_slit.st"
						epicsThreadSleep(0.02);
					}
# line 805 "../xia_slit.st"
					if (seqg_var->hsc_timeout == 1)
					{
# line 805 "../xia_slit.st"
						strcpy(seqg_var->hsc_response, "");
# line 805 "../xia_slit.st"
						if (seqg_var->debug_flag >= 10)
						{
# line 805 "../xia_slit.st"
							printf("<%s,%d,%s,%d> ", "../xia_slit.st", 805, seqg_var->SNLtaskName, 10);
# line 805 "../xia_slit.st"
							;
# line 805 "../xia_slit.st"
							printf("\nWAIT_HSC_RESPONSE: <%s> -> <<< TIMEOUT >>>", seqg_var->s_tinp);
# line 805 "../xia_slit.st"
							printf("\n");
# line 805 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 805 "../xia_slit.st"
						;
					}
					else
					{
# line 805 "../xia_slit.st"
						strcpy(seqg_var->hsc_response, seqg_var->s_ainp);
# line 805 "../xia_slit.st"
						if (seqg_var->debug_flag >= 10)
						{
# line 805 "../xia_slit.st"
							printf("(%s,%d): ", "../xia_slit.st", 805);
# line 805 "../xia_slit.st"
							printf("\nWAIT_HSC_RESPONSE: <%s> -> NORD=%d  TINP=%s", seqg_var->hsc_command, seqg_var->s_nord, seqg_var->s_tinp);
# line 805 "../xia_slit.st"
							printf("\n");
						}
# line 805 "../xia_slit.st"
						;
					}
				}
# line 805 "../xia_slit.st"
				;
			}
# line 805 "../xia_slit.st"
			;
# line 806 "../xia_slit.st"
			if (sscanf(seqg_var->hsc_response, "%*s %*s %d", &seqg_var->hOrigin) == 1)
			{
# line 808 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 43/*hOrigin*/, SYNC, DEFAULT_TIMEOUT);
			}
			else
			{
# line 812 "../xia_slit.st"
				seqg_var->error++;
# line 813 "../xia_slit.st"
				if (seqg_var->debug_flag >= 5)
				{
# line 813 "../xia_slit.st"
					printf("<%s,%d,%s,%d> ", "../xia_slit.st", 813, seqg_var->SNLtaskName, 5);
# line 813 "../xia_slit.st"
					;
# line 813 "../xia_slit.st"
					printf("%s\n", "Could not read horizontal origin position");
# line 813 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 813 "../xia_slit.st"
				;
			}
# line 815 "../xia_slit.st"
			if (!seqg_var->error)
			{
# line 816 "../xia_slit.st"
				seqg_var->pos_ag = (((0) - (seqg_var->hOrigin)) / ((400.0)));
# line 817 "../xia_slit.st"
				seqg_var->pos_bg = (((seqg_var->hOuterLimit) - (seqg_var->hOrigin)) / ((400.0)));
				{
# line 818 "../xia_slit.st"
					seqg_var->l_lo = (seqg_var->pos_ag);
# line 818 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 72/*l_lo*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 818 "../xia_slit.st"
				;
				{
# line 818 "../xia_slit.st"
					seqg_var->l_hi = (seqg_var->pos_bg);
# line 818 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 71/*l_hi*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 818 "../xia_slit.st"
				;
				{
# line 819 "../xia_slit.st"
					seqg_var->r_lo = (seqg_var->pos_ag);
# line 819 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 84/*r_lo*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 819 "../xia_slit.st"
				;
				{
# line 819 "../xia_slit.st"
					seqg_var->r_hi = (seqg_var->pos_bg);
# line 819 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 83/*r_hi*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 819 "../xia_slit.st"
				;
				{
# line 827 "../xia_slit.st"
					if ((seqg_var->l_lo) > (seqg_var->r_lo))
					{
# line 827 "../xia_slit.st"
						(seqg_var->dScratch) = (seqg_var->l_lo);
					}
					else
					{
# line 827 "../xia_slit.st"
						(seqg_var->dScratch) = (seqg_var->r_lo);
					}
				}
# line 827 "../xia_slit.st"
				;
				{
# line 828 "../xia_slit.st"
					if ((seqg_var->dScratch) > (0.0))
					{
# line 828 "../xia_slit.st"
						(seqg_var->width_lo) = (seqg_var->dScratch);
					}
					else
					{
# line 828 "../xia_slit.st"
						(seqg_var->width_lo) = (0.0);
					}
				}
# line 828 "../xia_slit.st"
				;
# line 828 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 102/*width_lo*/, DEFAULT, DEFAULT_TIMEOUT);
				{
# line 829 "../xia_slit.st"
					seqg_var->width_hi = (seqg_var->l_hi + seqg_var->r_hi);
# line 829 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 101/*width_hi*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 829 "../xia_slit.st"
				;
				{
# line 830 "../xia_slit.st"
					seqg_var->h0_hi = ((seqg_var->r_hi - seqg_var->l_lo) / 2);
# line 830 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 89/*h0_hi*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 830 "../xia_slit.st"
				;
				{
# line 831 "../xia_slit.st"
					seqg_var->h0_lo = ((seqg_var->r_lo - seqg_var->l_hi) / 2);
# line 831 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 90/*h0_lo*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 831 "../xia_slit.st"
				;
			}
# line 834 "../xia_slit.st"
			seqg_var->error = 0;
			{
				{
# line 835 "../xia_slit.st"
					seq_efClear(seqg_env, s_ainp_mon);
# line 835 "../xia_slit.st"
					seqg_var->hsc_timeout = 1;
					{
# line 835 "../xia_slit.st"
						sprintf(seqg_var->hsc_command, "!%s %s", seqg_var->vID, ("R 7"));
# line 835 "../xia_slit.st"
						if (seqg_var->debug_flag >= 10)
						{
# line 835 "../xia_slit.st"
							printf("<%s,%d,%s,%d> ", "../xia_slit.st", 835, seqg_var->SNLtaskName, 10);
# line 835 "../xia_slit.st"
							;
# line 835 "../xia_slit.st"
							printf("WRITE_HSC: <%s>", seqg_var->hsc_command);
# line 835 "../xia_slit.st"
							printf("\n");
# line 835 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 835 "../xia_slit.st"
						;
						{
# line 835 "../xia_slit.st"
							seqg_var->s_scan = ((0));
# line 835 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 10/*s_scan*/, SYNC, DEFAULT_TIMEOUT);
						}
# line 835 "../xia_slit.st"
						;
						{
# line 835 "../xia_slit.st"
							seqg_var->s_tmod = ((0));
# line 835 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 9/*s_tmod*/, SYNC, DEFAULT_TIMEOUT);
						}
# line 835 "../xia_slit.st"
						;
						{
# line 835 "../xia_slit.st"
							strcpy(seqg_var->s_ieos, ("\r\n"));
# line 835 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 3/*s_ieos*/, SYNC, DEFAULT_TIMEOUT);
# line 835 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 835 "../xia_slit.st"
						;
						{
# line 835 "../xia_slit.st"
							strcpy(seqg_var->s_oeos, ("\r"));
# line 835 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 4/*s_oeos*/, SYNC, DEFAULT_TIMEOUT);
# line 835 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 835 "../xia_slit.st"
						;
						{
# line 835 "../xia_slit.st"
							strcpy(seqg_var->s_aout, seqg_var->hsc_command);
# line 835 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 2/*s_aout*/, SYNC, DEFAULT_TIMEOUT);
# line 835 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 835 "../xia_slit.st"
						;
					}
# line 835 "../xia_slit.st"
					;
					{
# line 835 "../xia_slit.st"
						for (seqg_var->i = (30); seqg_var->i; seqg_var->i--)
						{
# line 835 "../xia_slit.st"
							if (seq_efTest(seqg_env, s_ainp_mon))
							{
# line 835 "../xia_slit.st"
								seqg_var->hsc_timeout = 0;
								break;
							}
# line 835 "../xia_slit.st"
							epicsThreadSleep(0.02);
						}
# line 835 "../xia_slit.st"
						if (seqg_var->hsc_timeout == 1)
						{
# line 835 "../xia_slit.st"
							strcpy(seqg_var->hsc_response, "");
# line 835 "../xia_slit.st"
							if (seqg_var->debug_flag >= 10)
							{
# line 835 "../xia_slit.st"
								printf("<%s,%d,%s,%d> ", "../xia_slit.st", 835, seqg_var->SNLtaskName, 10);
# line 835 "../xia_slit.st"
								;
# line 835 "../xia_slit.st"
								printf("\nWAIT_HSC_RESPONSE: <%s> -> <<< TIMEOUT >>>", seqg_var->s_tinp);
# line 835 "../xia_slit.st"
								printf("\n");
# line 835 "../xia_slit.st"
								epicsThreadSleep(0.01);
							}
# line 835 "../xia_slit.st"
							;
						}
						else
						{
# line 835 "../xia_slit.st"
							strcpy(seqg_var->hsc_response, seqg_var->s_ainp);
# line 835 "../xia_slit.st"
							if (seqg_var->debug_flag >= 10)
							{
# line 835 "../xia_slit.st"
								printf("(%s,%d): ", "../xia_slit.st", 835);
# line 835 "../xia_slit.st"
								printf("\nWAIT_HSC_RESPONSE: <%s> -> NORD=%d  TINP=%s", seqg_var->hsc_command, seqg_var->s_nord, seqg_var->s_tinp);
# line 835 "../xia_slit.st"
								printf("\n");
							}
# line 835 "../xia_slit.st"
							;
						}
					}
# line 835 "../xia_slit.st"
					;
				}
# line 835 "../xia_slit.st"
				;
# line 835 "../xia_slit.st"
				if (sscanf(seqg_var->hsc_response, "%*s %*s %d", &seqg_var->vCSW) == 1)
				{
# line 835 "../xia_slit.st"
					if (seqg_var->debug_flag >= 10)
					{
# line 835 "../xia_slit.st"
						printf("(%s,%d): ", "../xia_slit.st", 835);
# line 835 "../xia_slit.st"
						printf("%s cntrl word data %d", seqg_var->vID, seqg_var->vCSW);
# line 835 "../xia_slit.st"
						printf("\n");
					}
# line 835 "../xia_slit.st"
					;
					{
# line 835 "../xia_slit.st"
						seqg_var->vStPwr = (((0x03) & seqg_var->vCSW));
# line 835 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 56/*vStPwr*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 835 "../xia_slit.st"
					;
					{
# line 835 "../xia_slit.st"
						seqg_var->vStLmts = ((((0x04) & seqg_var->vCSW) ? 1 : 0));
# line 835 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 57/*vStLmts*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 835 "../xia_slit.st"
					;
					{
# line 835 "../xia_slit.st"
						seqg_var->vStBan = ((((0x08) & seqg_var->vCSW) ? 1 : 0));
# line 835 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 58/*vStBan*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 835 "../xia_slit.st"
					;
					{
# line 835 "../xia_slit.st"
						seqg_var->vStEcho = ((((0x10) & seqg_var->vCSW) ? 1 : 0));
# line 835 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 59/*vStEcho*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 835 "../xia_slit.st"
					;
					{
# line 835 "../xia_slit.st"
						seqg_var->vStLock = ((((0x20) & seqg_var->vCSW) ? 1 : 0));
# line 835 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 60/*vStLock*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 835 "../xia_slit.st"
					;
					{
# line 835 "../xia_slit.st"
						seqg_var->vStAlias = ((((0x40) & seqg_var->vCSW) ? 1 : 0));
# line 835 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 61/*vStAlias*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 835 "../xia_slit.st"
					;
					{
# line 835 "../xia_slit.st"
						seqg_var->vStText = ((((0x80) & seqg_var->vCSW) ? 1 : 0));
# line 835 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 62/*vStText*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 835 "../xia_slit.st"
					;
				}
				else
				{
# line 835 "../xia_slit.st"
					++seqg_var->error;
# line 835 "../xia_slit.st"
					if (seqg_var->debug_flag >= 1)
					{
# line 835 "../xia_slit.st"
						printf("<%s,%d,%s,%d> ", "../xia_slit.st", 835, seqg_var->SNLtaskName, 1);
# line 835 "../xia_slit.st"
						;
# line 835 "../xia_slit.st"
						printf("%s cntrl word format error", seqg_var->vID);
# line 835 "../xia_slit.st"
						printf("\n");
# line 835 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 835 "../xia_slit.st"
					;
				}
			}
# line 835 "../xia_slit.st"
			;
			{
				{
# line 836 "../xia_slit.st"
					seq_efClear(seqg_env, s_ainp_mon);
# line 836 "../xia_slit.st"
					seqg_var->hsc_timeout = 1;
					{
# line 836 "../xia_slit.st"
						sprintf(seqg_var->hsc_command, "!%s %s", seqg_var->vID, ("R 6"));
# line 836 "../xia_slit.st"
						if (seqg_var->debug_flag >= 10)
						{
# line 836 "../xia_slit.st"
							printf("<%s,%d,%s,%d> ", "../xia_slit.st", 836, seqg_var->SNLtaskName, 10);
# line 836 "../xia_slit.st"
							;
# line 836 "../xia_slit.st"
							printf("WRITE_HSC: <%s>", seqg_var->hsc_command);
# line 836 "../xia_slit.st"
							printf("\n");
# line 836 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 836 "../xia_slit.st"
						;
						{
# line 836 "../xia_slit.st"
							seqg_var->s_scan = ((0));
# line 836 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 10/*s_scan*/, SYNC, DEFAULT_TIMEOUT);
						}
# line 836 "../xia_slit.st"
						;
						{
# line 836 "../xia_slit.st"
							seqg_var->s_tmod = ((0));
# line 836 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 9/*s_tmod*/, SYNC, DEFAULT_TIMEOUT);
						}
# line 836 "../xia_slit.st"
						;
						{
# line 836 "../xia_slit.st"
							strcpy(seqg_var->s_ieos, ("\r\n"));
# line 836 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 3/*s_ieos*/, SYNC, DEFAULT_TIMEOUT);
# line 836 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 836 "../xia_slit.st"
						;
						{
# line 836 "../xia_slit.st"
							strcpy(seqg_var->s_oeos, ("\r"));
# line 836 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 4/*s_oeos*/, SYNC, DEFAULT_TIMEOUT);
# line 836 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 836 "../xia_slit.st"
						;
						{
# line 836 "../xia_slit.st"
							strcpy(seqg_var->s_aout, seqg_var->hsc_command);
# line 836 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 2/*s_aout*/, SYNC, DEFAULT_TIMEOUT);
# line 836 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 836 "../xia_slit.st"
						;
					}
# line 836 "../xia_slit.st"
					;
					{
# line 836 "../xia_slit.st"
						for (seqg_var->i = (30); seqg_var->i; seqg_var->i--)
						{
# line 836 "../xia_slit.st"
							if (seq_efTest(seqg_env, s_ainp_mon))
							{
# line 836 "../xia_slit.st"
								seqg_var->hsc_timeout = 0;
								break;
							}
# line 836 "../xia_slit.st"
							epicsThreadSleep(0.02);
						}
# line 836 "../xia_slit.st"
						if (seqg_var->hsc_timeout == 1)
						{
# line 836 "../xia_slit.st"
							strcpy(seqg_var->hsc_response, "");
# line 836 "../xia_slit.st"
							if (seqg_var->debug_flag >= 10)
							{
# line 836 "../xia_slit.st"
								printf("<%s,%d,%s,%d> ", "../xia_slit.st", 836, seqg_var->SNLtaskName, 10);
# line 836 "../xia_slit.st"
								;
# line 836 "../xia_slit.st"
								printf("\nWAIT_HSC_RESPONSE: <%s> -> <<< TIMEOUT >>>", seqg_var->s_tinp);
# line 836 "../xia_slit.st"
								printf("\n");
# line 836 "../xia_slit.st"
								epicsThreadSleep(0.01);
							}
# line 836 "../xia_slit.st"
							;
						}
						else
						{
# line 836 "../xia_slit.st"
							strcpy(seqg_var->hsc_response, seqg_var->s_ainp);
# line 836 "../xia_slit.st"
							if (seqg_var->debug_flag >= 10)
							{
# line 836 "../xia_slit.st"
								printf("(%s,%d): ", "../xia_slit.st", 836);
# line 836 "../xia_slit.st"
								printf("\nWAIT_HSC_RESPONSE: <%s> -> NORD=%d  TINP=%s", seqg_var->hsc_command, seqg_var->s_nord, seqg_var->s_tinp);
# line 836 "../xia_slit.st"
								printf("\n");
							}
# line 836 "../xia_slit.st"
							;
						}
					}
# line 836 "../xia_slit.st"
					;
				}
# line 836 "../xia_slit.st"
				;
# line 836 "../xia_slit.st"
				if (sscanf(seqg_var->hsc_response, "%*s %*s %d", &seqg_var->vGearBacklash) == 1)
				{
# line 836 "../xia_slit.st"
					if (seqg_var->debug_flag >= 10)
					{
# line 836 "../xia_slit.st"
						printf("(%s,%d): ", "../xia_slit.st", 836);
# line 836 "../xia_slit.st"
						printf("%s backlash %d", seqg_var->vID, seqg_var->vGearBacklash);
# line 836 "../xia_slit.st"
						printf("\n");
					}
# line 836 "../xia_slit.st"
					;
# line 836 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 48/*vGearBacklash*/, SYNC, DEFAULT_TIMEOUT);
				}
				else
				{
# line 836 "../xia_slit.st"
					++seqg_var->error;
# line 836 "../xia_slit.st"
					if (seqg_var->debug_flag >= 1)
					{
# line 836 "../xia_slit.st"
						printf("<%s,%d,%s,%d> ", "../xia_slit.st", 836, seqg_var->SNLtaskName, 1);
# line 836 "../xia_slit.st"
						;
# line 836 "../xia_slit.st"
						printf("%s backlash format error", seqg_var->vID);
# line 836 "../xia_slit.st"
						printf("\n");
# line 836 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 836 "../xia_slit.st"
					;
				}
			}
# line 836 "../xia_slit.st"
			;
			{
				{
# line 837 "../xia_slit.st"
					seq_efClear(seqg_env, s_ainp_mon);
# line 837 "../xia_slit.st"
					seqg_var->hsc_timeout = 1;
					{
# line 837 "../xia_slit.st"
						sprintf(seqg_var->hsc_command, "!%s %s", seqg_var->vID, ("R 5"));
# line 837 "../xia_slit.st"
						if (seqg_var->debug_flag >= 10)
						{
# line 837 "../xia_slit.st"
							printf("<%s,%d,%s,%d> ", "../xia_slit.st", 837, seqg_var->SNLtaskName, 10);
# line 837 "../xia_slit.st"
							;
# line 837 "../xia_slit.st"
							printf("WRITE_HSC: <%s>", seqg_var->hsc_command);
# line 837 "../xia_slit.st"
							printf("\n");
# line 837 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 837 "../xia_slit.st"
						;
						{
# line 837 "../xia_slit.st"
							seqg_var->s_scan = ((0));
# line 837 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 10/*s_scan*/, SYNC, DEFAULT_TIMEOUT);
						}
# line 837 "../xia_slit.st"
						;
						{
# line 837 "../xia_slit.st"
							seqg_var->s_tmod = ((0));
# line 837 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 9/*s_tmod*/, SYNC, DEFAULT_TIMEOUT);
						}
# line 837 "../xia_slit.st"
						;
						{
# line 837 "../xia_slit.st"
							strcpy(seqg_var->s_ieos, ("\r\n"));
# line 837 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 3/*s_ieos*/, SYNC, DEFAULT_TIMEOUT);
# line 837 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 837 "../xia_slit.st"
						;
						{
# line 837 "../xia_slit.st"
							strcpy(seqg_var->s_oeos, ("\r"));
# line 837 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 4/*s_oeos*/, SYNC, DEFAULT_TIMEOUT);
# line 837 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 837 "../xia_slit.st"
						;
						{
# line 837 "../xia_slit.st"
							strcpy(seqg_var->s_aout, seqg_var->hsc_command);
# line 837 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 2/*s_aout*/, SYNC, DEFAULT_TIMEOUT);
# line 837 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 837 "../xia_slit.st"
						;
					}
# line 837 "../xia_slit.st"
					;
					{
# line 837 "../xia_slit.st"
						for (seqg_var->i = (30); seqg_var->i; seqg_var->i--)
						{
# line 837 "../xia_slit.st"
							if (seq_efTest(seqg_env, s_ainp_mon))
							{
# line 837 "../xia_slit.st"
								seqg_var->hsc_timeout = 0;
								break;
							}
# line 837 "../xia_slit.st"
							epicsThreadSleep(0.02);
						}
# line 837 "../xia_slit.st"
						if (seqg_var->hsc_timeout == 1)
						{
# line 837 "../xia_slit.st"
							strcpy(seqg_var->hsc_response, "");
# line 837 "../xia_slit.st"
							if (seqg_var->debug_flag >= 10)
							{
# line 837 "../xia_slit.st"
								printf("<%s,%d,%s,%d> ", "../xia_slit.st", 837, seqg_var->SNLtaskName, 10);
# line 837 "../xia_slit.st"
								;
# line 837 "../xia_slit.st"
								printf("\nWAIT_HSC_RESPONSE: <%s> -> <<< TIMEOUT >>>", seqg_var->s_tinp);
# line 837 "../xia_slit.st"
								printf("\n");
# line 837 "../xia_slit.st"
								epicsThreadSleep(0.01);
							}
# line 837 "../xia_slit.st"
							;
						}
						else
						{
# line 837 "../xia_slit.st"
							strcpy(seqg_var->hsc_response, seqg_var->s_ainp);
# line 837 "../xia_slit.st"
							if (seqg_var->debug_flag >= 10)
							{
# line 837 "../xia_slit.st"
								printf("(%s,%d): ", "../xia_slit.st", 837);
# line 837 "../xia_slit.st"
								printf("\nWAIT_HSC_RESPONSE: <%s> -> NORD=%d  TINP=%s", seqg_var->hsc_command, seqg_var->s_nord, seqg_var->s_tinp);
# line 837 "../xia_slit.st"
								printf("\n");
							}
# line 837 "../xia_slit.st"
							;
						}
					}
# line 837 "../xia_slit.st"
					;
				}
# line 837 "../xia_slit.st"
				;
# line 837 "../xia_slit.st"
				if (sscanf(seqg_var->hsc_response, "%*s %*s %d", &seqg_var->vStepDelay) == 1)
				{
# line 837 "../xia_slit.st"
					if (seqg_var->debug_flag >= 10)
					{
# line 837 "../xia_slit.st"
						printf("(%s,%d): ", "../xia_slit.st", 837);
# line 837 "../xia_slit.st"
						printf("%s step delay %d", seqg_var->vID, seqg_var->vStepDelay);
# line 837 "../xia_slit.st"
						printf("\n");
					}
# line 837 "../xia_slit.st"
					;
# line 837 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 46/*vStepDelay*/, SYNC, DEFAULT_TIMEOUT);
				}
				else
				{
# line 837 "../xia_slit.st"
					++seqg_var->error;
# line 837 "../xia_slit.st"
					if (seqg_var->debug_flag >= 1)
					{
# line 837 "../xia_slit.st"
						printf("<%s,%d,%s,%d> ", "../xia_slit.st", 837, seqg_var->SNLtaskName, 1);
# line 837 "../xia_slit.st"
						;
# line 837 "../xia_slit.st"
						printf("%s step delay format error", seqg_var->vID);
# line 837 "../xia_slit.st"
						printf("\n");
# line 837 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 837 "../xia_slit.st"
					;
				}
			}
# line 837 "../xia_slit.st"
			;
			{
# line 839 "../xia_slit.st"
				seq_efClear(seqg_env, s_ainp_mon);
# line 839 "../xia_slit.st"
				seqg_var->hsc_timeout = 1;
				{
# line 839 "../xia_slit.st"
					sprintf(seqg_var->hsc_command, "!%s %s", seqg_var->vID, ("R 1"));
# line 839 "../xia_slit.st"
					if (seqg_var->debug_flag >= 10)
					{
# line 839 "../xia_slit.st"
						printf("<%s,%d,%s,%d> ", "../xia_slit.st", 839, seqg_var->SNLtaskName, 10);
# line 839 "../xia_slit.st"
						;
# line 839 "../xia_slit.st"
						printf("WRITE_HSC: <%s>", seqg_var->hsc_command);
# line 839 "../xia_slit.st"
						printf("\n");
# line 839 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 839 "../xia_slit.st"
					;
					{
# line 839 "../xia_slit.st"
						seqg_var->s_scan = ((0));
# line 839 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 10/*s_scan*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 839 "../xia_slit.st"
					;
					{
# line 839 "../xia_slit.st"
						seqg_var->s_tmod = ((0));
# line 839 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 9/*s_tmod*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 839 "../xia_slit.st"
					;
					{
# line 839 "../xia_slit.st"
						strcpy(seqg_var->s_ieos, ("\r\n"));
# line 839 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 3/*s_ieos*/, SYNC, DEFAULT_TIMEOUT);
# line 839 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 839 "../xia_slit.st"
					;
					{
# line 839 "../xia_slit.st"
						strcpy(seqg_var->s_oeos, ("\r"));
# line 839 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 4/*s_oeos*/, SYNC, DEFAULT_TIMEOUT);
# line 839 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 839 "../xia_slit.st"
					;
					{
# line 839 "../xia_slit.st"
						strcpy(seqg_var->s_aout, seqg_var->hsc_command);
# line 839 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 2/*s_aout*/, SYNC, DEFAULT_TIMEOUT);
# line 839 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 839 "../xia_slit.st"
					;
				}
# line 839 "../xia_slit.st"
				;
				{
# line 839 "../xia_slit.st"
					for (seqg_var->i = (30); seqg_var->i; seqg_var->i--)
					{
# line 839 "../xia_slit.st"
						if (seq_efTest(seqg_env, s_ainp_mon))
						{
# line 839 "../xia_slit.st"
							seqg_var->hsc_timeout = 0;
							break;
						}
# line 839 "../xia_slit.st"
						epicsThreadSleep(0.02);
					}
# line 839 "../xia_slit.st"
					if (seqg_var->hsc_timeout == 1)
					{
# line 839 "../xia_slit.st"
						strcpy(seqg_var->hsc_response, "");
# line 839 "../xia_slit.st"
						if (seqg_var->debug_flag >= 10)
						{
# line 839 "../xia_slit.st"
							printf("<%s,%d,%s,%d> ", "../xia_slit.st", 839, seqg_var->SNLtaskName, 10);
# line 839 "../xia_slit.st"
							;
# line 839 "../xia_slit.st"
							printf("\nWAIT_HSC_RESPONSE: <%s> -> <<< TIMEOUT >>>", seqg_var->s_tinp);
# line 839 "../xia_slit.st"
							printf("\n");
# line 839 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 839 "../xia_slit.st"
						;
					}
					else
					{
# line 839 "../xia_slit.st"
						strcpy(seqg_var->hsc_response, seqg_var->s_ainp);
# line 839 "../xia_slit.st"
						if (seqg_var->debug_flag >= 10)
						{
# line 839 "../xia_slit.st"
							printf("(%s,%d): ", "../xia_slit.st", 839);
# line 839 "../xia_slit.st"
							printf("\nWAIT_HSC_RESPONSE: <%s> -> NORD=%d  TINP=%s", seqg_var->hsc_command, seqg_var->s_nord, seqg_var->s_tinp);
# line 839 "../xia_slit.st"
							printf("\n");
						}
# line 839 "../xia_slit.st"
						;
					}
				}
# line 839 "../xia_slit.st"
				;
			}
# line 839 "../xia_slit.st"
			;
# line 840 "../xia_slit.st"
			if (sscanf(seqg_var->hsc_response, "%*s %*s %d", &seqg_var->vOuterLimit) == 1)
			{
# line 842 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 42/*vOuterLimit*/, SYNC, DEFAULT_TIMEOUT);
			}
			else
			{
# line 846 "../xia_slit.st"
				seqg_var->error++;
# line 847 "../xia_slit.st"
				if (seqg_var->debug_flag >= 5)
				{
# line 847 "../xia_slit.st"
					printf("<%s,%d,%s,%d> ", "../xia_slit.st", 847, seqg_var->SNLtaskName, 5);
# line 847 "../xia_slit.st"
					;
# line 847 "../xia_slit.st"
					printf("%s\n", "Could not read vertical outer limit");
# line 847 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 847 "../xia_slit.st"
				;
			}
			{
# line 850 "../xia_slit.st"
				seq_efClear(seqg_env, s_ainp_mon);
# line 850 "../xia_slit.st"
				seqg_var->hsc_timeout = 1;
				{
# line 850 "../xia_slit.st"
					sprintf(seqg_var->hsc_command, "!%s %s", seqg_var->vID, ("R 2"));
# line 850 "../xia_slit.st"
					if (seqg_var->debug_flag >= 10)
					{
# line 850 "../xia_slit.st"
						printf("<%s,%d,%s,%d> ", "../xia_slit.st", 850, seqg_var->SNLtaskName, 10);
# line 850 "../xia_slit.st"
						;
# line 850 "../xia_slit.st"
						printf("WRITE_HSC: <%s>", seqg_var->hsc_command);
# line 850 "../xia_slit.st"
						printf("\n");
# line 850 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 850 "../xia_slit.st"
					;
					{
# line 850 "../xia_slit.st"
						seqg_var->s_scan = ((0));
# line 850 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 10/*s_scan*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 850 "../xia_slit.st"
					;
					{
# line 850 "../xia_slit.st"
						seqg_var->s_tmod = ((0));
# line 850 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 9/*s_tmod*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 850 "../xia_slit.st"
					;
					{
# line 850 "../xia_slit.st"
						strcpy(seqg_var->s_ieos, ("\r\n"));
# line 850 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 3/*s_ieos*/, SYNC, DEFAULT_TIMEOUT);
# line 850 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 850 "../xia_slit.st"
					;
					{
# line 850 "../xia_slit.st"
						strcpy(seqg_var->s_oeos, ("\r"));
# line 850 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 4/*s_oeos*/, SYNC, DEFAULT_TIMEOUT);
# line 850 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 850 "../xia_slit.st"
					;
					{
# line 850 "../xia_slit.st"
						strcpy(seqg_var->s_aout, seqg_var->hsc_command);
# line 850 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 2/*s_aout*/, SYNC, DEFAULT_TIMEOUT);
# line 850 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 850 "../xia_slit.st"
					;
				}
# line 850 "../xia_slit.st"
				;
				{
# line 850 "../xia_slit.st"
					for (seqg_var->i = (30); seqg_var->i; seqg_var->i--)
					{
# line 850 "../xia_slit.st"
						if (seq_efTest(seqg_env, s_ainp_mon))
						{
# line 850 "../xia_slit.st"
							seqg_var->hsc_timeout = 0;
							break;
						}
# line 850 "../xia_slit.st"
						epicsThreadSleep(0.02);
					}
# line 850 "../xia_slit.st"
					if (seqg_var->hsc_timeout == 1)
					{
# line 850 "../xia_slit.st"
						strcpy(seqg_var->hsc_response, "");
# line 850 "../xia_slit.st"
						if (seqg_var->debug_flag >= 10)
						{
# line 850 "../xia_slit.st"
							printf("<%s,%d,%s,%d> ", "../xia_slit.st", 850, seqg_var->SNLtaskName, 10);
# line 850 "../xia_slit.st"
							;
# line 850 "../xia_slit.st"
							printf("\nWAIT_HSC_RESPONSE: <%s> -> <<< TIMEOUT >>>", seqg_var->s_tinp);
# line 850 "../xia_slit.st"
							printf("\n");
# line 850 "../xia_slit.st"
							epicsThreadSleep(0.01);
						}
# line 850 "../xia_slit.st"
						;
					}
					else
					{
# line 850 "../xia_slit.st"
						strcpy(seqg_var->hsc_response, seqg_var->s_ainp);
# line 850 "../xia_slit.st"
						if (seqg_var->debug_flag >= 10)
						{
# line 850 "../xia_slit.st"
							printf("(%s,%d): ", "../xia_slit.st", 850);
# line 850 "../xia_slit.st"
							printf("\nWAIT_HSC_RESPONSE: <%s> -> NORD=%d  TINP=%s", seqg_var->hsc_command, seqg_var->s_nord, seqg_var->s_tinp);
# line 850 "../xia_slit.st"
							printf("\n");
						}
# line 850 "../xia_slit.st"
						;
					}
				}
# line 850 "../xia_slit.st"
				;
			}
# line 850 "../xia_slit.st"
			;
# line 851 "../xia_slit.st"
			if (sscanf(seqg_var->hsc_response, "%*s %*s %d", &seqg_var->vOrigin) == 1)
			{
# line 853 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 44/*vOrigin*/, SYNC, DEFAULT_TIMEOUT);
			}
			else
			{
# line 857 "../xia_slit.st"
				seqg_var->error++;
# line 858 "../xia_slit.st"
				if (seqg_var->debug_flag >= 5)
				{
# line 858 "../xia_slit.st"
					printf("<%s,%d,%s,%d> ", "../xia_slit.st", 858, seqg_var->SNLtaskName, 5);
# line 858 "../xia_slit.st"
					;
# line 858 "../xia_slit.st"
					printf("%s\n", "Could not read vertical origin position");
# line 858 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 858 "../xia_slit.st"
				;
			}
# line 860 "../xia_slit.st"
			if (!seqg_var->error)
			{
# line 861 "../xia_slit.st"
				seqg_var->pos_ag = (((0) - (seqg_var->vOrigin)) / ((400.0)));
# line 862 "../xia_slit.st"
				seqg_var->pos_bg = (((seqg_var->vOuterLimit) - (seqg_var->vOrigin)) / ((400.0)));
				{
# line 863 "../xia_slit.st"
					seqg_var->t_lo = (seqg_var->pos_ag);
# line 863 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 66/*t_lo*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 863 "../xia_slit.st"
				;
				{
# line 863 "../xia_slit.st"
					seqg_var->t_hi = (seqg_var->pos_bg);
# line 863 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 65/*t_hi*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 863 "../xia_slit.st"
				;
				{
# line 864 "../xia_slit.st"
					seqg_var->b_lo = (seqg_var->pos_ag);
# line 864 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 78/*b_lo*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 864 "../xia_slit.st"
				;
				{
# line 864 "../xia_slit.st"
					seqg_var->b_hi = (seqg_var->pos_bg);
# line 864 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 77/*b_hi*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 864 "../xia_slit.st"
				;
				{
# line 872 "../xia_slit.st"
					if ((seqg_var->t_lo) > (seqg_var->b_lo))
					{
# line 872 "../xia_slit.st"
						(seqg_var->dScratch) = (seqg_var->t_lo);
					}
					else
					{
# line 872 "../xia_slit.st"
						(seqg_var->dScratch) = (seqg_var->b_lo);
					}
				}
# line 872 "../xia_slit.st"
				;
				{
# line 873 "../xia_slit.st"
					if ((seqg_var->dScratch) > (0.0))
					{
# line 873 "../xia_slit.st"
						(seqg_var->height_lo) = (seqg_var->dScratch);
					}
					else
					{
# line 873 "../xia_slit.st"
						(seqg_var->height_lo) = (0.0);
					}
				}
# line 873 "../xia_slit.st"
				;
# line 873 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 108/*height_lo*/, DEFAULT, DEFAULT_TIMEOUT);
				{
# line 874 "../xia_slit.st"
					seqg_var->height_hi = (seqg_var->t_hi + seqg_var->b_hi);
# line 874 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 107/*height_hi*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 874 "../xia_slit.st"
				;
				{
# line 876 "../xia_slit.st"
					seqg_var->v0_hi = ((seqg_var->t_hi - seqg_var->b_lo) / 2);
# line 876 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 95/*v0_hi*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 876 "../xia_slit.st"
				;
				{
# line 877 "../xia_slit.st"
					seqg_var->v0_lo = ((seqg_var->t_lo - seqg_var->b_hi) / 2);
# line 877 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 96/*v0_lo*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 877 "../xia_slit.st"
				;
			}
			{
# line 879 "../xia_slit.st"
				seqg_var->locate = (1);
# line 879 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 37/*locate*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 879 "../xia_slit.st"
			;
		}
		return;
	}
}

/****** Code for state "idle" in state set "xiahsc" ******/

/* Event function for state "idle" in state set "xiahsc" */
static seqBool seqg_event_xiahsc_0_idle(SS_ID seqg_env, int *seqg_ptrn, int *seqg_pnst)
{
# line 891 "../xia_slit.st"
	if (!seqg_var->enable)
	{
		*seqg_pnst = 1;
		*seqg_ptrn = 0;
		return TRUE;
	}
# line 896 "../xia_slit.st"
	if (seqg_var->init)
	{
		*seqg_pnst = 3;
		*seqg_ptrn = 1;
		return TRUE;
	}
# line 903 "../xia_slit.st"
	if (seq_efTest(seqg_env, stop_mon) && seqg_var->stop)
	{
		*seqg_pnst = 5;
		*seqg_ptrn = 2;
		return TRUE;
	}
# line 912 "../xia_slit.st"
	if (seq_efTest(seqg_env, l_event_mon))
	{
		*seqg_pnst = 6;
		*seqg_ptrn = 3;
		return TRUE;
	}
# line 919 "../xia_slit.st"
	if (seq_efTest(seqg_env, l_event_mon) || seq_efTest(seqg_env, r_event_mon) || seq_efTest(seqg_env, t_event_mon) || seq_efTest(seqg_env, b_event_mon) || seq_efTest(seqg_env, h0_event_mon) || seq_efTest(seqg_env, height_event_mon) || seq_efTest(seqg_env, v0_event_mon) || seq_efTest(seqg_env, width_event_mon))
	{
		*seqg_pnst = 6;
		*seqg_ptrn = 4;
		return TRUE;
	}
# line 926 "../xia_slit.st"
	if (seq_efTest(seqg_env, start_H_move))
	{
		*seqg_pnst = 5;
		*seqg_ptrn = 5;
		return TRUE;
	}
# line 960 "../xia_slit.st"
	if (seq_efTest(seqg_env, start_V_move))
	{
		*seqg_pnst = 5;
		*seqg_ptrn = 6;
		return TRUE;
	}
# line 995 "../xia_slit.st"
	if (seqg_var->locate)
	{
		*seqg_pnst = 5;
		*seqg_ptrn = 7;
		return TRUE;
	}
# line 1013 "../xia_slit.st"
	if (seqg_var->calibrate)
	{
		*seqg_pnst = 5;
		*seqg_ptrn = 8;
		return TRUE;
	}
# line 1029 "../xia_slit.st"
	if (seqg_var->ainp_fifo_read != seqg_var->ainp_fifo_write)
	{
		*seqg_pnst = 7;
		*seqg_ptrn = 9;
		return TRUE;
	}
# line 1044 "../xia_slit.st"
	if (seq_efTest(seqg_env, new_H_RB))
	{
		*seqg_pnst = 5;
		*seqg_ptrn = 10;
		return TRUE;
	}
# line 1063 "../xia_slit.st"
	if (seq_efTest(seqg_env, new_V_RB))
	{
		*seqg_pnst = 5;
		*seqg_ptrn = 11;
		return TRUE;
	}
# line 1081 "../xia_slit.st"
	if (seqg_var->stop && !seq_efTest(seqg_env, wait_H_input) && !seq_efTest(seqg_env, wait_V_input))
	{
		*seqg_pnst = 5;
		*seqg_ptrn = 12;
		return TRUE;
	}
# line 1089 "../xia_slit.st"
	if ((seqg_var->hBusy || seqg_var->vBusy) && seq_delay(seqg_env, (0.2)))
	{
		*seqg_pnst = 5;
		*seqg_ptrn = 13;
		return TRUE;
	}
# line 1092 "../xia_slit.st"
	if (seq_delay(seqg_env, (30)))
	{
		*seqg_pnst = 5;
		*seqg_ptrn = 14;
		return TRUE;
	}
	return FALSE;
}

/* Action function for state "idle" in state set "xiahsc" */
static void seqg_action_xiahsc_0_idle(SS_ID seqg_env, int seqg_trn, int *seqg_pnst)
{
	switch(seqg_trn)
	{
	case 0:
		{
		}
		return;
	case 1:
		{
# line 897 "../xia_slit.st"
			seqg_var->init_delay = 1;
			{
# line 897 "../xia_slit.st"
				seqg_var->init = (1);
# line 897 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 38/*init*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 897 "../xia_slit.st"
			;
			{
# line 897 "../xia_slit.st"
				seqg_var->h_BusyOff = (0);
# line 897 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 30/*h_BusyOff*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 897 "../xia_slit.st"
			;
			{
# line 897 "../xia_slit.st"
				seqg_var->v_BusyOff = (0);
# line 897 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 34/*v_BusyOff*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 897 "../xia_slit.st"
			;
		}
		return;
	case 2:
		{
			{
# line 904 "../xia_slit.st"
				sprintf(seqg_var->hsc_command, "!%s %s", "ALL", ("K"));
# line 904 "../xia_slit.st"
				if (seqg_var->debug_flag >= 10)
				{
# line 904 "../xia_slit.st"
					printf("<%s,%d,%s,%d> ", "../xia_slit.st", 904, seqg_var->SNLtaskName, 10);
# line 904 "../xia_slit.st"
					;
# line 904 "../xia_slit.st"
					printf("WRITE_HSC: <%s>", seqg_var->hsc_command);
# line 904 "../xia_slit.st"
					printf("\n");
# line 904 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 904 "../xia_slit.st"
				;
				{
# line 904 "../xia_slit.st"
					seqg_var->s_scan = ((0));
# line 904 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 10/*s_scan*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 904 "../xia_slit.st"
				;
				{
# line 904 "../xia_slit.st"
					seqg_var->s_tmod = ((1));
# line 904 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 9/*s_tmod*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 904 "../xia_slit.st"
				;
				{
# line 904 "../xia_slit.st"
					strcpy(seqg_var->s_ieos, ("\r\n"));
# line 904 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 3/*s_ieos*/, SYNC, DEFAULT_TIMEOUT);
# line 904 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 904 "../xia_slit.st"
				;
				{
# line 904 "../xia_slit.st"
					strcpy(seqg_var->s_oeos, ("\r"));
# line 904 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 4/*s_oeos*/, SYNC, DEFAULT_TIMEOUT);
# line 904 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 904 "../xia_slit.st"
				;
				{
# line 904 "../xia_slit.st"
					strcpy(seqg_var->s_aout, seqg_var->hsc_command);
# line 904 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 2/*s_aout*/, SYNC, DEFAULT_TIMEOUT);
# line 904 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 904 "../xia_slit.st"
				;
			}
# line 904 "../xia_slit.st"
			;
# line 905 "../xia_slit.st"
			epicsThreadSleep(.1);
# line 906 "../xia_slit.st"
			seq_efClear(seqg_env, stop_mon);
		}
		return;
	case 3:
		{
# line 913 "../xia_slit.st"
			if (seqg_var->debug_flag >= 2)
			{
# line 913 "../xia_slit.st"
				printf("<%s,%d,%s,%d> ", "../xia_slit.st", 913, seqg_var->SNLtaskName, 2);
# line 913 "../xia_slit.st"
				;
# line 913 "../xia_slit.st"
				printf("efTest(l_event_mon) -> premove, l=%f", seqg_var->l);
# line 913 "../xia_slit.st"
				printf("\n");
# line 913 "../xia_slit.st"
				epicsThreadSleep(0.01);
			}
# line 913 "../xia_slit.st"
			;
		}
		return;
	case 4:
		{
# line 920 "../xia_slit.st"
			if (seqg_var->debug_flag >= 2)
			{
# line 920 "../xia_slit.st"
				printf("<%s,%d,%s,%d> ", "../xia_slit.st", 920, seqg_var->SNLtaskName, 2);
# line 920 "../xia_slit.st"
				;
# line 920 "../xia_slit.st"
				printf("%s\n", "efTest() -> premove");
# line 920 "../xia_slit.st"
				epicsThreadSleep(0.01);
			}
# line 920 "../xia_slit.st"
			;
		}
		return;
	case 5:
		{
# line 927 "../xia_slit.st"
			if (seqg_var->hBusy)
			{
# line 928 "../xia_slit.st"
				if (seqg_var->debug_flag >= 2)
				{
# line 928 "../xia_slit.st"
					printf("<%s,%d,%s,%d> ", "../xia_slit.st", 928, seqg_var->SNLtaskName, 2);
# line 928 "../xia_slit.st"
					;
# line 928 "../xia_slit.st"
					printf("%s\n", "efTest(start_H_move) and hBusy");
# line 928 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 928 "../xia_slit.st"
				;
				{
# line 929 "../xia_slit.st"
					sprintf(seqg_var->hsc_command, "!%s %s", seqg_var->hID, ("K"));
# line 929 "../xia_slit.st"
					if (seqg_var->debug_flag >= 10)
					{
# line 929 "../xia_slit.st"
						printf("<%s,%d,%s,%d> ", "../xia_slit.st", 929, seqg_var->SNLtaskName, 10);
# line 929 "../xia_slit.st"
						;
# line 929 "../xia_slit.st"
						printf("WRITE_HSC: <%s>", seqg_var->hsc_command);
# line 929 "../xia_slit.st"
						printf("\n");
# line 929 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 929 "../xia_slit.st"
					;
					{
# line 929 "../xia_slit.st"
						seqg_var->s_scan = ((0));
# line 929 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 10/*s_scan*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 929 "../xia_slit.st"
					;
					{
# line 929 "../xia_slit.st"
						seqg_var->s_tmod = ((1));
# line 929 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 9/*s_tmod*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 929 "../xia_slit.st"
					;
					{
# line 929 "../xia_slit.st"
						strcpy(seqg_var->s_ieos, ("\r\n"));
# line 929 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 3/*s_ieos*/, SYNC, DEFAULT_TIMEOUT);
# line 929 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 929 "../xia_slit.st"
					;
					{
# line 929 "../xia_slit.st"
						strcpy(seqg_var->s_oeos, ("\r"));
# line 929 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 4/*s_oeos*/, SYNC, DEFAULT_TIMEOUT);
# line 929 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 929 "../xia_slit.st"
					;
					{
# line 929 "../xia_slit.st"
						strcpy(seqg_var->s_aout, seqg_var->hsc_command);
# line 929 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 2/*s_aout*/, SYNC, DEFAULT_TIMEOUT);
# line 929 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 929 "../xia_slit.st"
					;
				}
# line 929 "../xia_slit.st"
				;
# line 930 "../xia_slit.st"
				epicsThreadSleep(.5);
			}
			else
			{
				{
# line 932 "../xia_slit.st"
					seqg_var->hBusy = ((1));
# line 932 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 28/*hBusy*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 932 "../xia_slit.st"
				;
			}
# line 934 "../xia_slit.st"
			if (seqg_var->hOrient == (0))
			{
# line 935 "../xia_slit.st"
				seqg_var->pos_ag = seqg_var->l;
# line 935 "../xia_slit.st"
				seqg_var->pos_bg = seqg_var->r;
			}
			else
			{
# line 937 "../xia_slit.st"
				seqg_var->pos_ag = seqg_var->r;
# line 937 "../xia_slit.st"
				seqg_var->pos_bg = seqg_var->l;
			}
# line 939 "../xia_slit.st"
			seqg_var->h_isMoving = 1;
# line 940 "../xia_slit.st"
			seq_efSet(seqg_env, wait_H_input);
# line 941 "../xia_slit.st"
			seq_efClear(seqg_env, start_H_move);
# line 943 "../xia_slit.st"
			while (!seqg_var->s_sevr)
			{
				{
					{
# line 944 "../xia_slit.st"
						seqg_var->s_tmod = ((2));
# line 944 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 9/*s_tmod*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 944 "../xia_slit.st"
					;
# line 944 "../xia_slit.st"
					seq_efClear(seqg_env, s_ainp_mon);
					{
# line 944 "../xia_slit.st"
						seqg_var->s_proc = (1);
# line 944 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 13/*s_proc*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 944 "../xia_slit.st"
					;
# line 944 "../xia_slit.st"
					for (seqg_var->i = 0; seqg_var->i <= (30); seqg_var->i++)
					{
# line 944 "../xia_slit.st"
						if (seq_efTest(seqg_env, s_ainp_mon))
						{
# line 944 "../xia_slit.st"
							if (seqg_var->debug_flag >= 10)
							{
# line 944 "../xia_slit.st"
								printf("<%s,%d,%s,%d> ", "../xia_slit.st", 944, seqg_var->SNLtaskName, 10);
# line 944 "../xia_slit.st"
								;
# line 944 "../xia_slit.st"
								printf("%s\n", "READ_HSC: got a message.");
# line 944 "../xia_slit.st"
								epicsThreadSleep(0.01);
							}
# line 944 "../xia_slit.st"
							;
							break;
						}
# line 944 "../xia_slit.st"
						epicsThreadSleep(0.02);
					}
				}
# line 944 "../xia_slit.st"
				;
# line 946 "../xia_slit.st"
				sscanf(seqg_var->s_ainp, "%%%s", seqg_var->id);
# line 947 "../xia_slit.st"
				if (!strcmp(seqg_var->id, seqg_var->hID))
				{
# line 948 "../xia_slit.st"
					if (seqg_var->debug_flag >= 2)
					{
# line 948 "../xia_slit.st"
						printf("(%s,%d): ", "../xia_slit.st", 948);
# line 948 "../xia_slit.st"
						printf("discarding hID message '%s' id='%s'\n", seqg_var->s_tinp, seqg_var->id);
# line 948 "../xia_slit.st"
						printf("\n");
					}
# line 948 "../xia_slit.st"
					;
				}
				else
				{
					{
# line 950 "../xia_slit.st"
						if (seq_efTest(seqg_env, s_ainp_mon))
						{
# line 950 "../xia_slit.st"
							strcpy(seqg_var->ainp_fifo[seqg_var->ainp_fifo_read++], seqg_var->s_ainp);
							{
# line 950 "../xia_slit.st"
								if ((seqg_var->ainp_fifo_read) >= 40)
# line 950 "../xia_slit.st"
									(seqg_var->ainp_fifo_read) = 0;
							}
# line 950 "../xia_slit.st"
							;
# line 950 "../xia_slit.st"
							seqg_var->delta = seqg_var->ainp_fifo_read - seqg_var->ainp_fifo_write;
# line 950 "../xia_slit.st"
							if (seqg_var->delta < 0)
# line 950 "../xia_slit.st"
								seqg_var->delta += 40;
# line 950 "../xia_slit.st"
							if (seqg_var->debug_flag >= 10)
							{
# line 950 "../xia_slit.st"
								printf("(%s,%d): ", "../xia_slit.st", 950);
# line 950 "../xia_slit.st"
								printf("FIFO_IN: adding msg %d:\n ->'%s'", seqg_var->delta, seqg_var->s_ainp);
# line 950 "../xia_slit.st"
								printf("\n");
							}
# line 950 "../xia_slit.st"
							;
						}
					}
# line 950 "../xia_slit.st"
					;
				}
			}
# line 953 "../xia_slit.st"
			seqg_var->pos_a = ((seqg_var->pos_ag) * ((400.0)) + (0.5) + (seqg_var->hOrigin));
# line 954 "../xia_slit.st"
			seqg_var->pos_b = ((seqg_var->pos_bg) * ((400.0)) + (0.5) + (seqg_var->hOrigin));
# line 955 "../xia_slit.st"
			sprintf(seqg_var->scratch, "M %d %d", seqg_var->pos_a, seqg_var->pos_b);
# line 956 "../xia_slit.st"
			if (seqg_var->debug_flag >= 2)
			{
# line 956 "../xia_slit.st"
				printf("<%s,%d,%s,%d> ", "../xia_slit.st", 956, seqg_var->SNLtaskName, 2);
# line 956 "../xia_slit.st"
				;
# line 956 "../xia_slit.st"
				printf("%s\n", "start_H_move: writing to motor");
# line 956 "../xia_slit.st"
				epicsThreadSleep(0.01);
			}
# line 956 "../xia_slit.st"
			;
			{
# line 957 "../xia_slit.st"
				sprintf(seqg_var->hsc_command, "!%s %s", seqg_var->hID, seqg_var->scratch);
# line 957 "../xia_slit.st"
				if (seqg_var->debug_flag >= 10)
				{
# line 957 "../xia_slit.st"
					printf("<%s,%d,%s,%d> ", "../xia_slit.st", 957, seqg_var->SNLtaskName, 10);
# line 957 "../xia_slit.st"
					;
# line 957 "../xia_slit.st"
					printf("WRITE_HSC: <%s>", seqg_var->hsc_command);
# line 957 "../xia_slit.st"
					printf("\n");
# line 957 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 957 "../xia_slit.st"
				;
				{
# line 957 "../xia_slit.st"
					seqg_var->s_scan = ((0));
# line 957 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 10/*s_scan*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 957 "../xia_slit.st"
				;
				{
# line 957 "../xia_slit.st"
					seqg_var->s_tmod = ((1));
# line 957 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 9/*s_tmod*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 957 "../xia_slit.st"
				;
				{
# line 957 "../xia_slit.st"
					strcpy(seqg_var->s_ieos, ("\r\n"));
# line 957 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 3/*s_ieos*/, SYNC, DEFAULT_TIMEOUT);
# line 957 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 957 "../xia_slit.st"
				;
				{
# line 957 "../xia_slit.st"
					strcpy(seqg_var->s_oeos, ("\r"));
# line 957 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 4/*s_oeos*/, SYNC, DEFAULT_TIMEOUT);
# line 957 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 957 "../xia_slit.st"
				;
				{
# line 957 "../xia_slit.st"
					strcpy(seqg_var->s_aout, seqg_var->hsc_command);
# line 957 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 2/*s_aout*/, SYNC, DEFAULT_TIMEOUT);
# line 957 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 957 "../xia_slit.st"
				;
			}
# line 957 "../xia_slit.st"
			;
		}
		return;
	case 6:
		{
# line 961 "../xia_slit.st"
			if (seqg_var->vBusy)
			{
				{
# line 962 "../xia_slit.st"
					sprintf(seqg_var->hsc_command, "!%s %s", seqg_var->vID, ("K"));
# line 962 "../xia_slit.st"
					if (seqg_var->debug_flag >= 10)
					{
# line 962 "../xia_slit.st"
						printf("<%s,%d,%s,%d> ", "../xia_slit.st", 962, seqg_var->SNLtaskName, 10);
# line 962 "../xia_slit.st"
						;
# line 962 "../xia_slit.st"
						printf("WRITE_HSC: <%s>", seqg_var->hsc_command);
# line 962 "../xia_slit.st"
						printf("\n");
# line 962 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 962 "../xia_slit.st"
					;
					{
# line 962 "../xia_slit.st"
						seqg_var->s_scan = ((0));
# line 962 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 10/*s_scan*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 962 "../xia_slit.st"
					;
					{
# line 962 "../xia_slit.st"
						seqg_var->s_tmod = ((1));
# line 962 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 9/*s_tmod*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 962 "../xia_slit.st"
					;
					{
# line 962 "../xia_slit.st"
						strcpy(seqg_var->s_ieos, ("\r\n"));
# line 962 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 3/*s_ieos*/, SYNC, DEFAULT_TIMEOUT);
# line 962 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 962 "../xia_slit.st"
					;
					{
# line 962 "../xia_slit.st"
						strcpy(seqg_var->s_oeos, ("\r"));
# line 962 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 4/*s_oeos*/, SYNC, DEFAULT_TIMEOUT);
# line 962 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 962 "../xia_slit.st"
					;
					{
# line 962 "../xia_slit.st"
						strcpy(seqg_var->s_aout, seqg_var->hsc_command);
# line 962 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 2/*s_aout*/, SYNC, DEFAULT_TIMEOUT);
# line 962 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 962 "../xia_slit.st"
					;
				}
# line 962 "../xia_slit.st"
				;
# line 963 "../xia_slit.st"
				epicsThreadSleep(.5);
			}
			else
			{
				{
# line 965 "../xia_slit.st"
					seqg_var->vBusy = ((1));
# line 965 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 32/*vBusy*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 965 "../xia_slit.st"
				;
			}
# line 967 "../xia_slit.st"
			if (seqg_var->vOrient == (0))
			{
# line 968 "../xia_slit.st"
				seqg_var->pos_ag = seqg_var->t;
# line 968 "../xia_slit.st"
				seqg_var->pos_bg = seqg_var->b;
			}
			else
			{
# line 970 "../xia_slit.st"
				seqg_var->pos_ag = seqg_var->b;
# line 970 "../xia_slit.st"
				seqg_var->pos_bg = seqg_var->t;
			}
# line 972 "../xia_slit.st"
			seqg_var->v_isMoving = 1;
# line 973 "../xia_slit.st"
			seq_efSet(seqg_env, wait_V_input);
# line 974 "../xia_slit.st"
			seq_efClear(seqg_env, start_V_move);
# line 976 "../xia_slit.st"
			while (!seqg_var->s_sevr)
			{
				{
					{
# line 977 "../xia_slit.st"
						seqg_var->s_tmod = ((2));
# line 977 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 9/*s_tmod*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 977 "../xia_slit.st"
					;
# line 977 "../xia_slit.st"
					seq_efClear(seqg_env, s_ainp_mon);
					{
# line 977 "../xia_slit.st"
						seqg_var->s_proc = (1);
# line 977 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 13/*s_proc*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 977 "../xia_slit.st"
					;
# line 977 "../xia_slit.st"
					for (seqg_var->i = 0; seqg_var->i <= (30); seqg_var->i++)
					{
# line 977 "../xia_slit.st"
						if (seq_efTest(seqg_env, s_ainp_mon))
						{
# line 977 "../xia_slit.st"
							if (seqg_var->debug_flag >= 10)
							{
# line 977 "../xia_slit.st"
								printf("<%s,%d,%s,%d> ", "../xia_slit.st", 977, seqg_var->SNLtaskName, 10);
# line 977 "../xia_slit.st"
								;
# line 977 "../xia_slit.st"
								printf("%s\n", "READ_HSC: got a message.");
# line 977 "../xia_slit.st"
								epicsThreadSleep(0.01);
							}
# line 977 "../xia_slit.st"
							;
							break;
						}
# line 977 "../xia_slit.st"
						epicsThreadSleep(0.02);
					}
				}
# line 977 "../xia_slit.st"
				;
# line 979 "../xia_slit.st"
				sscanf(seqg_var->s_ainp, "%%%s", seqg_var->id);
# line 980 "../xia_slit.st"
				if (!strcmp(seqg_var->id, seqg_var->vID))
				{
# line 981 "../xia_slit.st"
					if (seqg_var->debug_flag >= 2)
					{
# line 981 "../xia_slit.st"
						printf("(%s,%d): ", "../xia_slit.st", 981);
# line 981 "../xia_slit.st"
						printf("discarding vID message '%s' id='%s'\n", seqg_var->s_tinp, seqg_var->id);
# line 981 "../xia_slit.st"
						printf("\n");
					}
# line 981 "../xia_slit.st"
					;
				}
				else
				{
					{
# line 983 "../xia_slit.st"
						if (seq_efTest(seqg_env, s_ainp_mon))
						{
# line 983 "../xia_slit.st"
							strcpy(seqg_var->ainp_fifo[seqg_var->ainp_fifo_read++], seqg_var->s_ainp);
							{
# line 983 "../xia_slit.st"
								if ((seqg_var->ainp_fifo_read) >= 40)
# line 983 "../xia_slit.st"
									(seqg_var->ainp_fifo_read) = 0;
							}
# line 983 "../xia_slit.st"
							;
# line 983 "../xia_slit.st"
							seqg_var->delta = seqg_var->ainp_fifo_read - seqg_var->ainp_fifo_write;
# line 983 "../xia_slit.st"
							if (seqg_var->delta < 0)
# line 983 "../xia_slit.st"
								seqg_var->delta += 40;
# line 983 "../xia_slit.st"
							if (seqg_var->debug_flag >= 10)
							{
# line 983 "../xia_slit.st"
								printf("(%s,%d): ", "../xia_slit.st", 983);
# line 983 "../xia_slit.st"
								printf("FIFO_IN: adding msg %d:\n ->'%s'", seqg_var->delta, seqg_var->s_ainp);
# line 983 "../xia_slit.st"
								printf("\n");
							}
# line 983 "../xia_slit.st"
							;
						}
					}
# line 983 "../xia_slit.st"
					;
				}
			}
# line 986 "../xia_slit.st"
			seqg_var->pos_a = ((seqg_var->pos_ag) * ((400.0)) + (0.5) + (seqg_var->vOrigin));
# line 987 "../xia_slit.st"
			seqg_var->pos_b = ((seqg_var->pos_bg) * ((400.0)) + (0.5) + (seqg_var->vOrigin));
# line 988 "../xia_slit.st"
			sprintf(seqg_var->scratch, "M %d %d", seqg_var->pos_a, seqg_var->pos_b);
			{
# line 989 "../xia_slit.st"
				sprintf(seqg_var->hsc_command, "!%s %s", seqg_var->vID, seqg_var->scratch);
# line 989 "../xia_slit.st"
				if (seqg_var->debug_flag >= 10)
				{
# line 989 "../xia_slit.st"
					printf("<%s,%d,%s,%d> ", "../xia_slit.st", 989, seqg_var->SNLtaskName, 10);
# line 989 "../xia_slit.st"
					;
# line 989 "../xia_slit.st"
					printf("WRITE_HSC: <%s>", seqg_var->hsc_command);
# line 989 "../xia_slit.st"
					printf("\n");
# line 989 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 989 "../xia_slit.st"
				;
				{
# line 989 "../xia_slit.st"
					seqg_var->s_scan = ((0));
# line 989 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 10/*s_scan*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 989 "../xia_slit.st"
				;
				{
# line 989 "../xia_slit.st"
					seqg_var->s_tmod = ((1));
# line 989 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 9/*s_tmod*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 989 "../xia_slit.st"
				;
				{
# line 989 "../xia_slit.st"
					strcpy(seqg_var->s_ieos, ("\r\n"));
# line 989 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 3/*s_ieos*/, SYNC, DEFAULT_TIMEOUT);
# line 989 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 989 "../xia_slit.st"
				;
				{
# line 989 "../xia_slit.st"
					strcpy(seqg_var->s_oeos, ("\r"));
# line 989 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 4/*s_oeos*/, SYNC, DEFAULT_TIMEOUT);
# line 989 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 989 "../xia_slit.st"
				;
				{
# line 989 "../xia_slit.st"
					strcpy(seqg_var->s_aout, seqg_var->hsc_command);
# line 989 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 2/*s_aout*/, SYNC, DEFAULT_TIMEOUT);
# line 989 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 989 "../xia_slit.st"
				;
			}
# line 989 "../xia_slit.st"
			;
		}
		return;
	case 7:
		{
# line 1000 "../xia_slit.st"
			strcpy(seqg_var->port, seq_macValueGet(seqg_env, "S"));
# line 1001 "../xia_slit.st"
			seq_pvPutTmo(seqg_env, 23/*port*/, DEFAULT, DEFAULT_TIMEOUT);
			{
# line 1002 "../xia_slit.st"
				seqg_var->locate = (0);
# line 1002 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 37/*locate*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 1002 "../xia_slit.st"
			;
			{
# line 1003 "../xia_slit.st"
				sprintf(seqg_var->hsc_command, "!%s %s", "ALL", ("P"));
# line 1003 "../xia_slit.st"
				if (seqg_var->debug_flag >= 10)
				{
# line 1003 "../xia_slit.st"
					printf("<%s,%d,%s,%d> ", "../xia_slit.st", 1003, seqg_var->SNLtaskName, 10);
# line 1003 "../xia_slit.st"
					;
# line 1003 "../xia_slit.st"
					printf("WRITE_HSC: <%s>", seqg_var->hsc_command);
# line 1003 "../xia_slit.st"
					printf("\n");
# line 1003 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 1003 "../xia_slit.st"
				;
				{
# line 1003 "../xia_slit.st"
					seqg_var->s_scan = ((0));
# line 1003 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 10/*s_scan*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 1003 "../xia_slit.st"
				;
				{
# line 1003 "../xia_slit.st"
					seqg_var->s_tmod = ((1));
# line 1003 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 9/*s_tmod*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 1003 "../xia_slit.st"
				;
				{
# line 1003 "../xia_slit.st"
					strcpy(seqg_var->s_ieos, ("\r\n"));
# line 1003 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 3/*s_ieos*/, SYNC, DEFAULT_TIMEOUT);
# line 1003 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 1003 "../xia_slit.st"
				;
				{
# line 1003 "../xia_slit.st"
					strcpy(seqg_var->s_oeos, ("\r"));
# line 1003 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 4/*s_oeos*/, SYNC, DEFAULT_TIMEOUT);
# line 1003 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 1003 "../xia_slit.st"
				;
				{
# line 1003 "../xia_slit.st"
					strcpy(seqg_var->s_aout, seqg_var->hsc_command);
# line 1003 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 2/*s_aout*/, SYNC, DEFAULT_TIMEOUT);
# line 1003 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 1003 "../xia_slit.st"
				;
			}
# line 1003 "../xia_slit.st"
			;
# line 1004 "../xia_slit.st"
			epicsThreadSleep(.1);
# line 1005 "../xia_slit.st"
			while (!seqg_var->s_sevr)
			{
# line 1006 "../xia_slit.st"
				if (seqg_var->debug_flag >= 10)
				{
# line 1006 "../xia_slit.st"
					printf("<%s,%d,%s,%d> ", "../xia_slit.st", 1006, seqg_var->SNLtaskName, 10);
# line 1006 "../xia_slit.st"
					;
# line 1006 "../xia_slit.st"
					printf("%s\n", "locate: calling READ_HSC");
# line 1006 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 1006 "../xia_slit.st"
				;
				{
					{
# line 1007 "../xia_slit.st"
						seqg_var->s_tmod = ((2));
# line 1007 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 9/*s_tmod*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 1007 "../xia_slit.st"
					;
# line 1007 "../xia_slit.st"
					seq_efClear(seqg_env, s_ainp_mon);
					{
# line 1007 "../xia_slit.st"
						seqg_var->s_proc = (1);
# line 1007 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 13/*s_proc*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 1007 "../xia_slit.st"
					;
# line 1007 "../xia_slit.st"
					for (seqg_var->i = 0; seqg_var->i <= (30); seqg_var->i++)
					{
# line 1007 "../xia_slit.st"
						if (seq_efTest(seqg_env, s_ainp_mon))
						{
# line 1007 "../xia_slit.st"
							if (seqg_var->debug_flag >= 10)
							{
# line 1007 "../xia_slit.st"
								printf("<%s,%d,%s,%d> ", "../xia_slit.st", 1007, seqg_var->SNLtaskName, 10);
# line 1007 "../xia_slit.st"
								;
# line 1007 "../xia_slit.st"
								printf("%s\n", "READ_HSC: got a message.");
# line 1007 "../xia_slit.st"
								epicsThreadSleep(0.01);
							}
# line 1007 "../xia_slit.st"
							;
							break;
						}
# line 1007 "../xia_slit.st"
						epicsThreadSleep(0.02);
					}
				}
# line 1007 "../xia_slit.st"
				;
# line 1008 "../xia_slit.st"
				if (!seqg_var->s_sevr)
				{
# line 1008 "../xia_slit.st"
					if (seq_efTest(seqg_env, s_ainp_mon))
					{
# line 1008 "../xia_slit.st"
						strcpy(seqg_var->ainp_fifo[seqg_var->ainp_fifo_read++], seqg_var->s_ainp);
						{
# line 1008 "../xia_slit.st"
							if ((seqg_var->ainp_fifo_read) >= 40)
# line 1008 "../xia_slit.st"
								(seqg_var->ainp_fifo_read) = 0;
						}
# line 1008 "../xia_slit.st"
						;
# line 1008 "../xia_slit.st"
						seqg_var->delta = seqg_var->ainp_fifo_read - seqg_var->ainp_fifo_write;
# line 1008 "../xia_slit.st"
						if (seqg_var->delta < 0)
# line 1008 "../xia_slit.st"
							seqg_var->delta += 40;
# line 1008 "../xia_slit.st"
						if (seqg_var->debug_flag >= 10)
						{
# line 1008 "../xia_slit.st"
							printf("(%s,%d): ", "../xia_slit.st", 1008);
# line 1008 "../xia_slit.st"
							printf("FIFO_IN: adding msg %d:\n ->'%s'", seqg_var->delta, seqg_var->s_ainp);
# line 1008 "../xia_slit.st"
							printf("\n");
						}
# line 1008 "../xia_slit.st"
						;
					}
				}
# line 1008 "../xia_slit.st"
				;
			}
# line 1010 "../xia_slit.st"
			if (seqg_var->debug_flag >= 10)
			{
# line 1010 "../xia_slit.st"
				printf("<%s,%d,%s,%d> ", "../xia_slit.st", 1010, seqg_var->SNLtaskName, 10);
# line 1010 "../xia_slit.st"
				;
# line 1010 "../xia_slit.st"
				printf("%s\n", "locate: s_sevr = TRUE");
# line 1010 "../xia_slit.st"
				epicsThreadSleep(0.01);
			}
# line 1010 "../xia_slit.st"
			;
		}
		return;
	case 8:
		{
			{
# line 1019 "../xia_slit.st"
				sprintf(seqg_var->hsc_command, "!%s %s", "ALL", ("0 I"));
# line 1019 "../xia_slit.st"
				if (seqg_var->debug_flag >= 10)
				{
# line 1019 "../xia_slit.st"
					printf("<%s,%d,%s,%d> ", "../xia_slit.st", 1019, seqg_var->SNLtaskName, 10);
# line 1019 "../xia_slit.st"
					;
# line 1019 "../xia_slit.st"
					printf("WRITE_HSC: <%s>", seqg_var->hsc_command);
# line 1019 "../xia_slit.st"
					printf("\n");
# line 1019 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 1019 "../xia_slit.st"
				;
				{
# line 1019 "../xia_slit.st"
					seqg_var->s_scan = ((0));
# line 1019 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 10/*s_scan*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 1019 "../xia_slit.st"
				;
				{
# line 1019 "../xia_slit.st"
					seqg_var->s_tmod = ((1));
# line 1019 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 9/*s_tmod*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 1019 "../xia_slit.st"
				;
				{
# line 1019 "../xia_slit.st"
					strcpy(seqg_var->s_ieos, ("\r\n"));
# line 1019 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 3/*s_ieos*/, SYNC, DEFAULT_TIMEOUT);
# line 1019 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 1019 "../xia_slit.st"
				;
				{
# line 1019 "../xia_slit.st"
					strcpy(seqg_var->s_oeos, ("\r"));
# line 1019 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 4/*s_oeos*/, SYNC, DEFAULT_TIMEOUT);
# line 1019 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 1019 "../xia_slit.st"
				;
				{
# line 1019 "../xia_slit.st"
					strcpy(seqg_var->s_aout, seqg_var->hsc_command);
# line 1019 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 2/*s_aout*/, SYNC, DEFAULT_TIMEOUT);
# line 1019 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 1019 "../xia_slit.st"
				;
			}
# line 1020 "../xia_slit.st"
			epicsThreadSleep(.1);
			{
# line 1021 "../xia_slit.st"
				seqg_var->calibrate = ((0));
# line 1021 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 40/*calibrate*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 1021 "../xia_slit.st"
			;
			{
# line 1022 "../xia_slit.st"
				seqg_var->locate = (1);
# line 1022 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 37/*locate*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 1022 "../xia_slit.st"
			;
		}
		return;
	case 9:
		{
			{
# line 1030 "../xia_slit.st"
				seqg_var->delta = seqg_var->ainp_fifo_read - seqg_var->ainp_fifo_write;
# line 1030 "../xia_slit.st"
				if (seqg_var->delta < 0)
# line 1030 "../xia_slit.st"
					seqg_var->delta += 40;
# line 1030 "../xia_slit.st"
				strcpy(seqg_var->scratch, seqg_var->ainp_fifo[seqg_var->ainp_fifo_write++]);
# line 1030 "../xia_slit.st"
				if (seqg_var->debug_flag >= 10)
				{
# line 1030 "../xia_slit.st"
					printf("(%s,%d): ", "../xia_slit.st", 1030);
# line 1030 "../xia_slit.st"
					printf("FIFO_OUT: got message %d:\n ->'%s'", seqg_var->delta, seqg_var->scratch);
# line 1030 "../xia_slit.st"
					printf("\n");
				}
# line 1030 "../xia_slit.st"
				;
				{
# line 1030 "../xia_slit.st"
					if ((seqg_var->ainp_fifo_write) >= 40)
# line 1030 "../xia_slit.st"
						(seqg_var->ainp_fifo_write) = 0;
				}
# line 1030 "../xia_slit.st"
				;
			}
# line 1030 "../xia_slit.st"
			;
# line 1032 "../xia_slit.st"
			seqg_var->id[0] = seqg_var->word1[0] = seqg_var->word2[0] = seqg_var->word3[0] = seqg_var->word4[0] = seqg_var->word5[0] = seqg_var->word6[0] = 0;
# line 1034 "../xia_slit.st"
			seqg_var->numWords = sscanf(seqg_var->scratch, "%s %s %s %s %s %s", seqg_var->word1, seqg_var->word2, seqg_var->word3, seqg_var->word4, seqg_var->word5, seqg_var->word6);
# line 1035 "../xia_slit.st"
			seqg_var->hasID = sscanf(seqg_var->word1, "%%%s", seqg_var->id);
# line 1036 "../xia_slit.st"
			if (seqg_var->debug_flag >= 5 && (seqg_var->numWords > 0))
			{
# line 1037 "../xia_slit.st"
				printf("xia_slit:fifo_read: (%d words)...\n'%s'\n", seqg_var->numWords, seqg_var->scratch);
			}
		}
		return;
	case 10:
		{
# line 1045 "../xia_slit.st"
			seq_efClear(seqg_env, new_H_RB);
# line 1050 "../xia_slit.st"
			if (seqg_var->debug_flag >= 2)
			{
# line 1050 "../xia_slit.st"
				printf("(%s,%d): ", "../xia_slit.st", 1050);
# line 1050 "../xia_slit.st"
				printf("efTest(new_H_RB)==1; h_Busy|hBusy=%d, l=%f,l_RB=%f", seqg_var->h_Busy | seqg_var->hBusy, seqg_var->l, seqg_var->l_RB);
# line 1050 "../xia_slit.st"
				printf("\n");
			}
# line 1050 "../xia_slit.st"
			;
# line 1051 "../xia_slit.st"
			if (!seqg_var->hBusy && !seqg_var->h_Busy)
			{
# line 1052 "../xia_slit.st"
				if ((fabs((seqg_var->l) - (seqg_var->l_RB)) > ((1.e-9))))
				{
# line 1052 "../xia_slit.st"
					seqg_var->load_l = (seqg_var->l_RB);
# line 1052 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 74/*load_l*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 1052 "../xia_slit.st"
				;
# line 1053 "../xia_slit.st"
				if ((fabs((seqg_var->r) - (seqg_var->r_RB)) > ((1.e-9))))
				{
# line 1053 "../xia_slit.st"
					seqg_var->load_r = (seqg_var->r_RB);
# line 1053 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 86/*load_r*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 1053 "../xia_slit.st"
				;
# line 1054 "../xia_slit.st"
				if ((fabs((seqg_var->h0) - (seqg_var->h0_RB)) > ((1.e-9))))
				{
# line 1054 "../xia_slit.st"
					seqg_var->load_h0 = (seqg_var->h0_RB);
# line 1054 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 92/*load_h0*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 1054 "../xia_slit.st"
				;
# line 1055 "../xia_slit.st"
				if ((fabs((seqg_var->width) - (seqg_var->width_RB)) > ((1.e-9))))
				{
# line 1055 "../xia_slit.st"
					seqg_var->load_width = (seqg_var->width_RB);
# line 1055 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 104/*load_width*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 1055 "../xia_slit.st"
				;
# line 1056 "../xia_slit.st"
				seq_efClear(seqg_env, wait_H_input);
			}
		}
		return;
	case 11:
		{
# line 1064 "../xia_slit.st"
			seq_efClear(seqg_env, new_V_RB);
# line 1069 "../xia_slit.st"
			if (!seqg_var->vBusy && !seqg_var->v_Busy)
			{
# line 1070 "../xia_slit.st"
				if ((fabs((seqg_var->t) - (seqg_var->t_RB)) > ((1.e-9))))
				{
# line 1070 "../xia_slit.st"
					seqg_var->load_t = (seqg_var->t_RB);
# line 1070 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 68/*load_t*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 1070 "../xia_slit.st"
				;
# line 1071 "../xia_slit.st"
				if ((fabs((seqg_var->b) - (seqg_var->b_RB)) > ((1.e-9))))
				{
# line 1071 "../xia_slit.st"
					seqg_var->load_b = (seqg_var->b_RB);
# line 1071 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 80/*load_b*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 1071 "../xia_slit.st"
				;
# line 1072 "../xia_slit.st"
				if ((fabs((seqg_var->v0) - (seqg_var->v0_RB)) > ((1.e-9))))
				{
# line 1072 "../xia_slit.st"
					seqg_var->load_v0 = (seqg_var->v0_RB);
# line 1072 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 98/*load_v0*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 1072 "../xia_slit.st"
				;
# line 1073 "../xia_slit.st"
				if ((fabs((seqg_var->height) - (seqg_var->height_RB)) > ((1.e-9))))
				{
# line 1073 "../xia_slit.st"
					seqg_var->load_height = (seqg_var->height_RB);
# line 1073 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 110/*load_height*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 1073 "../xia_slit.st"
				;
# line 1074 "../xia_slit.st"
				seq_efClear(seqg_env, wait_V_input);
			}
		}
		return;
	case 12:
		{
			{
# line 1082 "../xia_slit.st"
				seqg_var->stop = ((0));
# line 1082 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 36/*stop*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 1082 "../xia_slit.st"
			;
# line 1083 "../xia_slit.st"
			seq_efClear(seqg_env, stop_mon);
		}
		return;
	case 13:
		{
			{
# line 1090 "../xia_slit.st"
				seqg_var->locate = (1);
# line 1090 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 37/*locate*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 1090 "../xia_slit.st"
			;
		}
		return;
	case 14:
		{
			{
# line 1093 "../xia_slit.st"
				seqg_var->locate = (1);
# line 1093 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 37/*locate*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 1093 "../xia_slit.st"
			;
# line 1094 "../xia_slit.st"
			if (seqg_var->debug_flag >= 2)
			{
# line 1094 "../xia_slit.st"
				printf("<%s,%d,%s,%d> ", "../xia_slit.st", 1094, seqg_var->SNLtaskName, 2);
# line 1094 "../xia_slit.st"
				;
# line 1094 "../xia_slit.st"
				printf("%s\n", "IDLE POLL");
# line 1094 "../xia_slit.st"
				epicsThreadSleep(0.01);
			}
# line 1094 "../xia_slit.st"
			;
		}
		return;
	}
}

/****** Code for state "premove" in state set "xiahsc" ******/

/* Event function for state "premove" in state set "xiahsc" */
static seqBool seqg_event_xiahsc_0_premove(SS_ID seqg_env, int *seqg_ptrn, int *seqg_pnst)
{
# line 1104 "../xia_slit.st"
	if (seq_efTest(seqg_env, l_event_mon) && (seqg_var->l == seqg_var->l_old))
	{
		*seqg_pnst = 5;
		*seqg_ptrn = 0;
		return TRUE;
	}
# line 1109 "../xia_slit.st"
	if (seq_efTest(seqg_env, r_event_mon) && (seqg_var->r == seqg_var->r_old))
	{
		*seqg_pnst = 5;
		*seqg_ptrn = 1;
		return TRUE;
	}
# line 1114 "../xia_slit.st"
	if (seq_efTest(seqg_env, t_event_mon) && (seqg_var->t == seqg_var->t_old))
	{
		*seqg_pnst = 5;
		*seqg_ptrn = 2;
		return TRUE;
	}
# line 1119 "../xia_slit.st"
	if (seq_efTest(seqg_env, b_event_mon) && (seqg_var->b == seqg_var->b_old))
	{
		*seqg_pnst = 5;
		*seqg_ptrn = 3;
		return TRUE;
	}
# line 1124 "../xia_slit.st"
	if (seq_efTest(seqg_env, h0_event_mon) && (seqg_var->h0 == seqg_var->h0_old))
	{
		*seqg_pnst = 5;
		*seqg_ptrn = 4;
		return TRUE;
	}
# line 1129 "../xia_slit.st"
	if (seq_efTest(seqg_env, v0_event_mon) && (seqg_var->v0 == seqg_var->v0_old))
	{
		*seqg_pnst = 5;
		*seqg_ptrn = 5;
		return TRUE;
	}
# line 1134 "../xia_slit.st"
	if (seq_efTest(seqg_env, width_event_mon) && (seqg_var->width == seqg_var->width_old))
	{
		*seqg_pnst = 5;
		*seqg_ptrn = 6;
		return TRUE;
	}
# line 1139 "../xia_slit.st"
	if (seq_efTest(seqg_env, height_event_mon) && (seqg_var->height == seqg_var->height_old))
	{
		*seqg_pnst = 5;
		*seqg_ptrn = 7;
		return TRUE;
	}
	if (TRUE)
	{
		*seqg_pnst = 5;
		*seqg_ptrn = 8;
		return TRUE;
	}
	return FALSE;
}

/* Action function for state "premove" in state set "xiahsc" */
static void seqg_action_xiahsc_0_premove(SS_ID seqg_env, int seqg_trn, int *seqg_pnst)
{
	switch(seqg_trn)
	{
	case 0:
		{
# line 1105 "../xia_slit.st"
			seq_efClear(seqg_env, l_event_mon);
			{
# line 1106 "../xia_slit.st"
				seqg_var->h_BusyOff = (0);
# line 1106 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 30/*h_BusyOff*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 1106 "../xia_slit.st"
			;
# line 1107 "../xia_slit.st"
			if (seqg_var->debug_flag >= 2)
			{
# line 1107 "../xia_slit.st"
				printf("<%s,%d,%s,%d> ", "../xia_slit.st", 1107, seqg_var->SNLtaskName, 2);
# line 1107 "../xia_slit.st"
				;
# line 1107 "../xia_slit.st"
				printf("%s\n", "l==l_old: ->h_BusyOff");
# line 1107 "../xia_slit.st"
				epicsThreadSleep(0.01);
			}
# line 1107 "../xia_slit.st"
			;
		}
		return;
	case 1:
		{
# line 1110 "../xia_slit.st"
			seq_efClear(seqg_env, r_event_mon);
			{
# line 1111 "../xia_slit.st"
				seqg_var->h_BusyOff = (0);
# line 1111 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 30/*h_BusyOff*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 1111 "../xia_slit.st"
			;
# line 1112 "../xia_slit.st"
			if (seqg_var->debug_flag >= 2)
			{
# line 1112 "../xia_slit.st"
				printf("<%s,%d,%s,%d> ", "../xia_slit.st", 1112, seqg_var->SNLtaskName, 2);
# line 1112 "../xia_slit.st"
				;
# line 1112 "../xia_slit.st"
				printf("%s\n", "r==r_old: ->h_BusyOff");
# line 1112 "../xia_slit.st"
				epicsThreadSleep(0.01);
			}
# line 1112 "../xia_slit.st"
			;
		}
		return;
	case 2:
		{
# line 1115 "../xia_slit.st"
			seq_efClear(seqg_env, t_event_mon);
			{
# line 1116 "../xia_slit.st"
				seqg_var->v_BusyOff = (0);
# line 1116 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 34/*v_BusyOff*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 1116 "../xia_slit.st"
			;
# line 1117 "../xia_slit.st"
			if (seqg_var->debug_flag >= 2)
			{
# line 1117 "../xia_slit.st"
				printf("<%s,%d,%s,%d> ", "../xia_slit.st", 1117, seqg_var->SNLtaskName, 2);
# line 1117 "../xia_slit.st"
				;
# line 1117 "../xia_slit.st"
				printf("%s\n", "t==t_old: ->v_BusyOff");
# line 1117 "../xia_slit.st"
				epicsThreadSleep(0.01);
			}
# line 1117 "../xia_slit.st"
			;
		}
		return;
	case 3:
		{
# line 1120 "../xia_slit.st"
			seq_efClear(seqg_env, b_event_mon);
			{
# line 1121 "../xia_slit.st"
				seqg_var->v_BusyOff = (0);
# line 1121 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 34/*v_BusyOff*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 1121 "../xia_slit.st"
			;
# line 1122 "../xia_slit.st"
			if (seqg_var->debug_flag >= 2)
			{
# line 1122 "../xia_slit.st"
				printf("<%s,%d,%s,%d> ", "../xia_slit.st", 1122, seqg_var->SNLtaskName, 2);
# line 1122 "../xia_slit.st"
				;
# line 1122 "../xia_slit.st"
				printf("%s\n", "b==b_old: ->v_BusyOff");
# line 1122 "../xia_slit.st"
				epicsThreadSleep(0.01);
			}
# line 1122 "../xia_slit.st"
			;
		}
		return;
	case 4:
		{
# line 1125 "../xia_slit.st"
			seq_efClear(seqg_env, h0_event_mon);
			{
# line 1126 "../xia_slit.st"
				seqg_var->h_BusyOff = (0);
# line 1126 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 30/*h_BusyOff*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 1126 "../xia_slit.st"
			;
# line 1127 "../xia_slit.st"
			if (seqg_var->debug_flag >= 2)
			{
# line 1127 "../xia_slit.st"
				printf("<%s,%d,%s,%d> ", "../xia_slit.st", 1127, seqg_var->SNLtaskName, 2);
# line 1127 "../xia_slit.st"
				;
# line 1127 "../xia_slit.st"
				printf("%s\n", "h0==h0_old: ->h_BusyOff");
# line 1127 "../xia_slit.st"
				epicsThreadSleep(0.01);
			}
# line 1127 "../xia_slit.st"
			;
		}
		return;
	case 5:
		{
# line 1130 "../xia_slit.st"
			seq_efClear(seqg_env, v0_event_mon);
			{
# line 1131 "../xia_slit.st"
				seqg_var->v_BusyOff = (0);
# line 1131 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 34/*v_BusyOff*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 1131 "../xia_slit.st"
			;
# line 1132 "../xia_slit.st"
			if (seqg_var->debug_flag >= 2)
			{
# line 1132 "../xia_slit.st"
				printf("<%s,%d,%s,%d> ", "../xia_slit.st", 1132, seqg_var->SNLtaskName, 2);
# line 1132 "../xia_slit.st"
				;
# line 1132 "../xia_slit.st"
				printf("%s\n", "v0==v0_old: ->v_BusyOff");
# line 1132 "../xia_slit.st"
				epicsThreadSleep(0.01);
			}
# line 1132 "../xia_slit.st"
			;
		}
		return;
	case 6:
		{
# line 1135 "../xia_slit.st"
			seq_efClear(seqg_env, width_event_mon);
			{
# line 1136 "../xia_slit.st"
				seqg_var->h_BusyOff = (0);
# line 1136 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 30/*h_BusyOff*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 1136 "../xia_slit.st"
			;
# line 1137 "../xia_slit.st"
			if (seqg_var->debug_flag >= 2)
			{
# line 1137 "../xia_slit.st"
				printf("<%s,%d,%s,%d> ", "../xia_slit.st", 1137, seqg_var->SNLtaskName, 2);
# line 1137 "../xia_slit.st"
				;
# line 1137 "../xia_slit.st"
				printf("%s\n", "width==width_old: ->h_BusyOff");
# line 1137 "../xia_slit.st"
				epicsThreadSleep(0.01);
			}
# line 1137 "../xia_slit.st"
			;
		}
		return;
	case 7:
		{
# line 1140 "../xia_slit.st"
			seq_efClear(seqg_env, height_event_mon);
			{
# line 1141 "../xia_slit.st"
				seqg_var->v_BusyOff = (0);
# line 1141 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 34/*v_BusyOff*/, SYNC, DEFAULT_TIMEOUT);
			}
# line 1141 "../xia_slit.st"
			;
# line 1142 "../xia_slit.st"
			if (seqg_var->debug_flag >= 2)
			{
# line 1142 "../xia_slit.st"
				printf("<%s,%d,%s,%d> ", "../xia_slit.st", 1142, seqg_var->SNLtaskName, 2);
# line 1142 "../xia_slit.st"
				;
# line 1142 "../xia_slit.st"
				printf("%s\n", "height==height_old: ->v_BusyOff");
# line 1142 "../xia_slit.st"
				epicsThreadSleep(0.01);
			}
# line 1142 "../xia_slit.st"
			;
		}
		return;
	case 8:
		{
# line 1148 "../xia_slit.st"
			if (seq_efTest(seqg_env, l_event_mon) || seq_efTest(seqg_env, r_event_mon) || seq_efTest(seqg_env, h0_event_mon) || seq_efTest(seqg_env, width_event_mon))
			{
# line 1151 "../xia_slit.st"
				if (seq_efTest(seqg_env, l_event_mon) || seq_efTest(seqg_env, r_event_mon))
				{
# line 1152 "../xia_slit.st"
					seqg_var->width = seqg_var->r + seqg_var->l;
# line 1153 "../xia_slit.st"
					seqg_var->h0 = (seqg_var->r - seqg_var->l) / 2;
				}
				else
				{
# line 1155 "../xia_slit.st"
					seqg_var->l = seqg_var->width / 2 - seqg_var->h0;
# line 1156 "../xia_slit.st"
					seqg_var->r = seqg_var->width / 2 + seqg_var->h0;
				}
# line 1159 "../xia_slit.st"
				seqg_var->error = 0;
# line 1160 "../xia_slit.st"
				if (!(((seqg_var->l_lo) <= (seqg_var->l)) && ((seqg_var->l) <= (seqg_var->l_hi))))
				{
# line 1160 "../xia_slit.st"
					seqg_var->l = seqg_var->l_old;
# line 1160 "../xia_slit.st"
					seqg_var->error++;
				}
# line 1161 "../xia_slit.st"
				if (!(((seqg_var->r_lo) <= (seqg_var->r)) && ((seqg_var->r) <= (seqg_var->r_hi))))
				{
# line 1161 "../xia_slit.st"
					seqg_var->r = seqg_var->r_old;
# line 1161 "../xia_slit.st"
					seqg_var->error++;
				}
# line 1162 "../xia_slit.st"
				if (!(((seqg_var->h0_lo) <= (seqg_var->h0)) && ((seqg_var->h0) <= (seqg_var->h0_hi))))
				{
# line 1162 "../xia_slit.st"
					seqg_var->h0 = seqg_var->h0_old;
# line 1162 "../xia_slit.st"
					seqg_var->error++;
				}
# line 1163 "../xia_slit.st"
				if (!(((seqg_var->width_lo) <= (seqg_var->width)) && ((seqg_var->width) <= (seqg_var->width_hi))))
				{
# line 1164 "../xia_slit.st"
					seqg_var->width = seqg_var->width_old;
# line 1164 "../xia_slit.st"
					seqg_var->error++;
				}
# line 1165 "../xia_slit.st"
				if (seqg_var->error)
				{
# line 1167 "../xia_slit.st"
					if (seq_efTest(seqg_env, l_event_mon))
					{
# line 1167 "../xia_slit.st"
						seqg_var->load_l = (seqg_var->l);
# line 1167 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 74/*load_l*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 1167 "../xia_slit.st"
					;
# line 1168 "../xia_slit.st"
					if (seq_efTest(seqg_env, r_event_mon))
					{
# line 1168 "../xia_slit.st"
						seqg_var->load_r = (seqg_var->r);
# line 1168 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 86/*load_r*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 1168 "../xia_slit.st"
					;
# line 1169 "../xia_slit.st"
					if (seq_efTest(seqg_env, h0_event_mon))
					{
# line 1169 "../xia_slit.st"
						seqg_var->load_h0 = (seqg_var->h0);
# line 1169 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 92/*load_h0*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 1169 "../xia_slit.st"
					;
# line 1170 "../xia_slit.st"
					if (seq_efTest(seqg_env, width_event_mon))
					{
# line 1170 "../xia_slit.st"
						seqg_var->load_width = (seqg_var->width);
# line 1170 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 104/*load_width*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 1170 "../xia_slit.st"
					;
# line 1171 "../xia_slit.st"
					seqg_var->error = (15);
					{
# line 1172 "../xia_slit.st"
						strcpy(seqg_var->errMsg, "H soft limits exceeded");
# line 1172 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 112/*errMsg*/, SYNC, DEFAULT_TIMEOUT);
# line 1172 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 1172 "../xia_slit.st"
					;
					{
# line 1173 "../xia_slit.st"
						seqg_var->h_BusyOff = (0);
# line 1173 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 30/*h_BusyOff*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 1173 "../xia_slit.st"
					;
				}
				else
				{
					{
# line 1175 "../xia_slit.st"
						strcpy(seqg_var->errMsg, "no error");
# line 1175 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 112/*errMsg*/, SYNC, DEFAULT_TIMEOUT);
# line 1175 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 1175 "../xia_slit.st"
					;
# line 1177 "../xia_slit.st"
					seq_efSet(seqg_env, start_H_move);
# line 1178 "../xia_slit.st"
					if (seqg_var->debug_flag >= 2)
					{
# line 1178 "../xia_slit.st"
						printf("<%s,%d,%s,%d> ", "../xia_slit.st", 1178, seqg_var->SNLtaskName, 2);
# line 1178 "../xia_slit.st"
						;
# line 1178 "../xia_slit.st"
						printf("%s\n", "premove: efSet(start_H_move)");
# line 1178 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 1178 "../xia_slit.st"
					;
# line 1179 "../xia_slit.st"
					if (seq_efTest(seqg_env, l_event_mon) || seq_efTest(seqg_env, r_event_mon))
					{
						{
# line 1180 "../xia_slit.st"
							seqg_var->load_h0 = (seqg_var->h0);
# line 1180 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 92/*load_h0*/, SYNC, DEFAULT_TIMEOUT);
						}
# line 1180 "../xia_slit.st"
						;
						{
# line 1180 "../xia_slit.st"
							seqg_var->load_width = (seqg_var->width);
# line 1180 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 104/*load_width*/, SYNC, DEFAULT_TIMEOUT);
						}
# line 1180 "../xia_slit.st"
						;
					}
					else
					{
						{
# line 1182 "../xia_slit.st"
							seqg_var->load_l = (seqg_var->l);
# line 1182 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 74/*load_l*/, SYNC, DEFAULT_TIMEOUT);
						}
# line 1182 "../xia_slit.st"
						;
						{
# line 1182 "../xia_slit.st"
							seqg_var->load_r = (seqg_var->r);
# line 1182 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 86/*load_r*/, SYNC, DEFAULT_TIMEOUT);
						}
# line 1182 "../xia_slit.st"
						;
					}
				}
# line 1185 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 111/*error*/, DEFAULT, DEFAULT_TIMEOUT);
# line 1186 "../xia_slit.st"
				seq_efClear(seqg_env, l_event_mon);
# line 1186 "../xia_slit.st"
				seq_efClear(seqg_env, r_event_mon);
# line 1187 "../xia_slit.st"
				seq_efClear(seqg_env, h0_event_mon);
# line 1187 "../xia_slit.st"
				seq_efClear(seqg_env, width_event_mon);
			}
# line 1192 "../xia_slit.st"
			if (seq_efTest(seqg_env, t_event_mon) || seq_efTest(seqg_env, b_event_mon) || seq_efTest(seqg_env, v0_event_mon) || seq_efTest(seqg_env, height_event_mon))
			{
# line 1195 "../xia_slit.st"
				if (seq_efTest(seqg_env, t_event_mon) || seq_efTest(seqg_env, b_event_mon))
				{
# line 1196 "../xia_slit.st"
					seqg_var->height = seqg_var->t + seqg_var->b;
# line 1197 "../xia_slit.st"
					seqg_var->v0 = (seqg_var->t - seqg_var->b) / 2;
				}
				else
				{
# line 1199 "../xia_slit.st"
					seqg_var->t = seqg_var->height / 2 + seqg_var->v0;
# line 1200 "../xia_slit.st"
					seqg_var->b = seqg_var->height / 2 - seqg_var->v0;
				}
# line 1203 "../xia_slit.st"
				seqg_var->error = 0;
# line 1204 "../xia_slit.st"
				if (!(((seqg_var->t_lo) <= (seqg_var->t)) && ((seqg_var->t) <= (seqg_var->t_hi))))
				{
# line 1204 "../xia_slit.st"
					seqg_var->t = seqg_var->t_old;
# line 1204 "../xia_slit.st"
					seqg_var->error++;
				}
# line 1205 "../xia_slit.st"
				if (!(((seqg_var->b_lo) <= (seqg_var->b)) && ((seqg_var->b) <= (seqg_var->b_hi))))
				{
# line 1205 "../xia_slit.st"
					seqg_var->b = seqg_var->b_old;
# line 1205 "../xia_slit.st"
					seqg_var->error++;
				}
# line 1206 "../xia_slit.st"
				if (!(((seqg_var->v0_lo) <= (seqg_var->v0)) && ((seqg_var->v0) <= (seqg_var->v0_hi))))
				{
# line 1206 "../xia_slit.st"
					seqg_var->v0 = seqg_var->v0_old;
# line 1206 "../xia_slit.st"
					seqg_var->error++;
				}
# line 1207 "../xia_slit.st"
				if (!(((seqg_var->height_lo) <= (seqg_var->height)) && ((seqg_var->height) <= (seqg_var->height_hi))))
				{
# line 1208 "../xia_slit.st"
					seqg_var->height = seqg_var->height_old;
# line 1208 "../xia_slit.st"
					seqg_var->error++;
				}
# line 1209 "../xia_slit.st"
				if (seqg_var->error)
				{
# line 1211 "../xia_slit.st"
					if (seq_efTest(seqg_env, t_event_mon))
					{
# line 1211 "../xia_slit.st"
						seqg_var->load_t = (seqg_var->t);
# line 1211 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 68/*load_t*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 1211 "../xia_slit.st"
					;
# line 1212 "../xia_slit.st"
					if (seq_efTest(seqg_env, b_event_mon))
					{
# line 1212 "../xia_slit.st"
						seqg_var->load_b = (seqg_var->b);
# line 1212 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 80/*load_b*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 1212 "../xia_slit.st"
					;
# line 1213 "../xia_slit.st"
					if (seq_efTest(seqg_env, v0_event_mon))
					{
# line 1213 "../xia_slit.st"
						seqg_var->load_v0 = (seqg_var->v0);
# line 1213 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 98/*load_v0*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 1213 "../xia_slit.st"
					;
# line 1214 "../xia_slit.st"
					if (seq_efTest(seqg_env, height_event_mon))
					{
# line 1214 "../xia_slit.st"
						seqg_var->load_height = (seqg_var->height);
# line 1214 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 110/*load_height*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 1214 "../xia_slit.st"
					;
# line 1215 "../xia_slit.st"
					seqg_var->error = (15);
					{
# line 1216 "../xia_slit.st"
						strcpy(seqg_var->errMsg, "V soft limits exceeded");
# line 1216 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 112/*errMsg*/, SYNC, DEFAULT_TIMEOUT);
# line 1216 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 1216 "../xia_slit.st"
					;
					{
# line 1217 "../xia_slit.st"
						seqg_var->v_BusyOff = (0);
# line 1217 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 34/*v_BusyOff*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 1217 "../xia_slit.st"
					;
				}
				else
				{
					{
# line 1219 "../xia_slit.st"
						strcpy(seqg_var->errMsg, "no error");
# line 1219 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 112/*errMsg*/, SYNC, DEFAULT_TIMEOUT);
# line 1219 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 1219 "../xia_slit.st"
					;
# line 1221 "../xia_slit.st"
					seq_efSet(seqg_env, start_V_move);
# line 1222 "../xia_slit.st"
					if (seq_efTest(seqg_env, t_event_mon) || seq_efTest(seqg_env, b_event_mon))
					{
						{
# line 1223 "../xia_slit.st"
							seqg_var->load_v0 = (seqg_var->v0);
# line 1223 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 98/*load_v0*/, SYNC, DEFAULT_TIMEOUT);
						}
# line 1223 "../xia_slit.st"
						;
						{
# line 1223 "../xia_slit.st"
							seqg_var->load_height = (seqg_var->height);
# line 1223 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 110/*load_height*/, SYNC, DEFAULT_TIMEOUT);
						}
# line 1223 "../xia_slit.st"
						;
					}
					else
					{
						{
# line 1225 "../xia_slit.st"
							seqg_var->load_t = (seqg_var->t);
# line 1225 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 68/*load_t*/, SYNC, DEFAULT_TIMEOUT);
						}
# line 1225 "../xia_slit.st"
						;
						{
# line 1225 "../xia_slit.st"
							seqg_var->load_b = (seqg_var->b);
# line 1225 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 80/*load_b*/, SYNC, DEFAULT_TIMEOUT);
						}
# line 1225 "../xia_slit.st"
						;
					}
				}
# line 1228 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 111/*error*/, DEFAULT, DEFAULT_TIMEOUT);
# line 1229 "../xia_slit.st"
				seq_efClear(seqg_env, t_event_mon);
# line 1229 "../xia_slit.st"
				seq_efClear(seqg_env, b_event_mon);
# line 1230 "../xia_slit.st"
				seq_efClear(seqg_env, v0_event_mon);
# line 1230 "../xia_slit.st"
				seq_efClear(seqg_env, height_event_mon);
			}
		}
		return;
	}
}

/****** Code for state "process_response" in state set "xiahsc" ******/

/* Entry function for state "process_response" in state set "xiahsc" */
static void seqg_entry_xiahsc_0_process_response(SS_ID seqg_env)
{
# line 1239 "../xia_slit.st"
	if (seqg_var->debug_flag >= 5)
	{
# line 1239 "../xia_slit.st"
		printf("<%s,%d,%s,%d> ", "../xia_slit.st", 1239, seqg_var->SNLtaskName, 5);
# line 1239 "../xia_slit.st"
		;
# line 1239 "../xia_slit.st"
		printf("process_response:entry numWords=%d", seqg_var->numWords);
# line 1239 "../xia_slit.st"
		printf("\n");
# line 1239 "../xia_slit.st"
		epicsThreadSleep(0.01);
	}
# line 1239 "../xia_slit.st"
	;
}

/* Event function for state "process_response" in state set "xiahsc" */
static seqBool seqg_event_xiahsc_0_process_response(SS_ID seqg_env, int *seqg_ptrn, int *seqg_pnst)
{
# line 1244 "../xia_slit.st"
	if (seqg_var->numWords == -1)
	{
		*seqg_pnst = 5;
		*seqg_ptrn = 0;
		return TRUE;
	}
# line 1250 "../xia_slit.st"
	if ((seqg_var->numWords == 2) && (!strcmp(seqg_var->word2, "OK;")))
	{
		*seqg_pnst = 5;
		*seqg_ptrn = 1;
		return TRUE;
	}
# line 1253 "../xia_slit.st"
	if ((seqg_var->numWords >= 2) && (!strcmp(seqg_var->word2, "ERROR;")))
	{
		*seqg_pnst = 5;
		*seqg_ptrn = 2;
		return TRUE;
	}
# line 1276 "../xia_slit.st"
	if ((seqg_var->numWords == 2) && (!strcmp(seqg_var->word2, "BUSY;")))
	{
		*seqg_pnst = 5;
		*seqg_ptrn = 3;
		return TRUE;
	}
# line 1292 "../xia_slit.st"
	if ((seqg_var->numWords == 4) && (!strcmp(seqg_var->word4, "DONE;")))
	{
		*seqg_pnst = 8;
		*seqg_ptrn = 4;
		return TRUE;
	}
# line 1330 "../xia_slit.st"
	if ((seqg_var->numWords == 5) && (!strcmp(seqg_var->word2, "OK")))
	{
		*seqg_pnst = 8;
		*seqg_ptrn = 5;
		return TRUE;
	}
	if (TRUE)
	{
		*seqg_pnst = 5;
		*seqg_ptrn = 6;
		return TRUE;
	}
	return FALSE;
}

/* Action function for state "process_response" in state set "xiahsc" */
static void seqg_action_xiahsc_0_process_response(SS_ID seqg_env, int seqg_trn, int *seqg_pnst)
{
	switch(seqg_trn)
	{
	case 0:
		{
		}
		return;
	case 1:
		{
		}
		return;
	case 2:
		{
# line 1254 "../xia_slit.st"
			if (seqg_var->numWords == 2)
			{
				{
# line 1255 "../xia_slit.st"
					seqg_var->error = ((16));
# line 1255 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 111/*error*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 1255 "../xia_slit.st"
				;
# line 1256 "../xia_slit.st"
				sprintf(seqg_var->errMsg, "%s: unknown error", seqg_var->id);
# line 1257 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 112/*errMsg*/, DEFAULT, DEFAULT_TIMEOUT);
			}
			else
			{
# line 1259 "../xia_slit.st"
				sscanf(seqg_var->word3, "%d", &seqg_var->error);
# line 1260 "../xia_slit.st"
				seq_pvPutTmo(seqg_env, 111/*error*/, DEFAULT, DEFAULT_TIMEOUT);
				{
# line 1261 "../xia_slit.st"
					strcpy(seqg_var->errMsg, seqg_var->hscErrors[seqg_var->error]);
# line 1261 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 112/*errMsg*/, SYNC, DEFAULT_TIMEOUT);
# line 1261 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 1261 "../xia_slit.st"
				;
			}
# line 1263 "../xia_slit.st"
			if (!strcmp(seqg_var->word1, seqg_var->hID))
			{
# line 1264 "../xia_slit.st"
				if (seqg_var->debug_flag >= 2)
				{
# line 1264 "../xia_slit.st"
					printf("<%s,%d,%s,%d> ", "../xia_slit.st", 1264, seqg_var->SNLtaskName, 2);
# line 1264 "../xia_slit.st"
					;
# line 1264 "../xia_slit.st"
					printf("'%s' reported an error: ->h_BusyOff", seqg_var->hID);
# line 1264 "../xia_slit.st"
					printf("\n");
# line 1264 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 1264 "../xia_slit.st"
				;
				{
# line 1265 "../xia_slit.st"
					seqg_var->h_BusyOff = (0);
# line 1265 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 30/*h_BusyOff*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 1265 "../xia_slit.st"
				;
# line 1266 "../xia_slit.st"
				seqg_var->h_isMoving = 0;
			}
			else
# line 1267 "../xia_slit.st"
				if (!strcmp(seqg_var->word1, seqg_var->vID))
				{
# line 1268 "../xia_slit.st"
					if (seqg_var->debug_flag >= 2)
					{
# line 1268 "../xia_slit.st"
						printf("<%s,%d,%s,%d> ", "../xia_slit.st", 1268, seqg_var->SNLtaskName, 2);
# line 1268 "../xia_slit.st"
						;
# line 1268 "../xia_slit.st"
						printf("'%s' reported an error: ->v_BusyOff", seqg_var->vID);
# line 1268 "../xia_slit.st"
						printf("\n");
# line 1268 "../xia_slit.st"
						epicsThreadSleep(0.01);
					}
# line 1268 "../xia_slit.st"
					;
					{
# line 1269 "../xia_slit.st"
						seqg_var->v_BusyOff = (0);
# line 1269 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 34/*v_BusyOff*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 1269 "../xia_slit.st"
					;
# line 1270 "../xia_slit.st"
					seqg_var->v_isMoving = 0;
				}
		}
		return;
	case 3:
		{
# line 1278 "../xia_slit.st"
			if (!strcmp(seqg_var->id, seqg_var->hID))
			{
				{
# line 1279 "../xia_slit.st"
					seqg_var->hBusy = ((1));
# line 1279 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 28/*hBusy*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 1279 "../xia_slit.st"
				;
			}
			else
			{
				{
# line 1281 "../xia_slit.st"
					seqg_var->vBusy = ((1));
# line 1281 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 32/*vBusy*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 1281 "../xia_slit.st"
				;
			}
# line 1283 "../xia_slit.st"
			if (seqg_var->error)
			{
				{
# line 1284 "../xia_slit.st"
					seqg_var->error = (0);
# line 1284 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 111/*error*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 1284 "../xia_slit.st"
				;
				{
# line 1285 "../xia_slit.st"
					strcpy(seqg_var->errMsg, "no error");
# line 1285 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 112/*errMsg*/, SYNC, DEFAULT_TIMEOUT);
# line 1285 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 1285 "../xia_slit.st"
				;
			}
		}
		return;
	case 4:
		{
# line 1294 "../xia_slit.st"
			sscanf(seqg_var->word2, "%d", &seqg_var->pos_a);
# line 1295 "../xia_slit.st"
			sscanf(seqg_var->word3, "%d", &seqg_var->pos_b);
# line 1296 "../xia_slit.st"
			if (seqg_var->error)
			{
				{
# line 1297 "../xia_slit.st"
					seqg_var->error = (0);
# line 1297 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 111/*error*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 1297 "../xia_slit.st"
				;
				{
# line 1298 "../xia_slit.st"
					strcpy(seqg_var->errMsg, "no error");
# line 1298 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 112/*errMsg*/, SYNC, DEFAULT_TIMEOUT);
# line 1298 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 1298 "../xia_slit.st"
				;
			}
# line 1301 "../xia_slit.st"
			if (!strcmp(seqg_var->id, seqg_var->hID))
			{
# line 1302 "../xia_slit.st"
				if (seqg_var->debug_flag >= 5)
				{
# line 1302 "../xia_slit.st"
					printf("(%s,%d): ", "../xia_slit.st", 1302);
# line 1302 "../xia_slit.st"
					printf("hDONE: pos_a = %d, pos_b = %d", seqg_var->pos_a, seqg_var->pos_b);
# line 1302 "../xia_slit.st"
					printf("\n");
				}
# line 1302 "../xia_slit.st"
				;
# line 1303 "../xia_slit.st"
				seqg_var->pos_ag = (((seqg_var->pos_a) - (seqg_var->hOrigin)) / ((400.0)));
# line 1304 "../xia_slit.st"
				seqg_var->pos_bg = (((seqg_var->pos_b) - (seqg_var->hOrigin)) / ((400.0)));
# line 1305 "../xia_slit.st"
				seqg_var->h_isMoving = 0;
# line 1306 "../xia_slit.st"
				seqg_var->l_raw = ((seqg_var->l) * ((400.0)) + (0.5) + (seqg_var->hOrigin));
# line 1307 "../xia_slit.st"
				seqg_var->r_raw = ((seqg_var->r) * ((400.0)) + (0.5) + (seqg_var->hOrigin));
# line 1308 "../xia_slit.st"
				if (seqg_var->debug_flag >= 10)
				{
# line 1308 "../xia_slit.st"
					printf("(%s,%d): ", "../xia_slit.st", 1308);
# line 1308 "../xia_slit.st"
					printf("hRaw; l=%d, r=%d", seqg_var->l_raw, seqg_var->r_raw);
# line 1308 "../xia_slit.st"
					printf("\n");
				}
# line 1308 "../xia_slit.st"
				;
# line 1309 "../xia_slit.st"
				if (seqg_var->hOrient == (0))
				{
# line 1310 "../xia_slit.st"
					if ((seqg_var->pos_a == seqg_var->l_raw) && (seqg_var->pos_b == seqg_var->r_raw))
					{
# line 1310 "../xia_slit.st"
						seqg_var->h_BusyOff = (0);
# line 1310 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 30/*h_BusyOff*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 1310 "../xia_slit.st"
					;
				}
				else
				{
# line 1312 "../xia_slit.st"
					if ((seqg_var->pos_a == seqg_var->r_raw) && (seqg_var->pos_b == seqg_var->l_raw))
					{
# line 1312 "../xia_slit.st"
						seqg_var->h_BusyOff = (0);
# line 1312 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 30/*h_BusyOff*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 1312 "../xia_slit.st"
					;
				}
			}
			else
# line 1314 "../xia_slit.st"
				if (!strcmp(seqg_var->id, seqg_var->vID))
				{
# line 1315 "../xia_slit.st"
					if (seqg_var->debug_flag >= 5)
					{
# line 1315 "../xia_slit.st"
						printf("(%s,%d): ", "../xia_slit.st", 1315);
# line 1315 "../xia_slit.st"
						printf("vDONE: pos_a = %d, pos_b = %d", seqg_var->pos_a, seqg_var->pos_b);
# line 1315 "../xia_slit.st"
						printf("\n");
					}
# line 1315 "../xia_slit.st"
					;
# line 1316 "../xia_slit.st"
					seqg_var->pos_ag = (((seqg_var->pos_a) - (seqg_var->vOrigin)) / ((400.0)));
# line 1317 "../xia_slit.st"
					seqg_var->pos_bg = (((seqg_var->pos_b) - (seqg_var->vOrigin)) / ((400.0)));
# line 1318 "../xia_slit.st"
					seqg_var->v_isMoving = 0;
# line 1319 "../xia_slit.st"
					seqg_var->t_raw = ((seqg_var->t) * ((400.0)) + (0.5) + (seqg_var->vOrigin));
# line 1320 "../xia_slit.st"
					seqg_var->b_raw = ((seqg_var->b) * ((400.0)) + (0.5) + (seqg_var->vOrigin));
# line 1321 "../xia_slit.st"
					if (seqg_var->debug_flag >= 10)
					{
# line 1321 "../xia_slit.st"
						printf("(%s,%d): ", "../xia_slit.st", 1321);
# line 1321 "../xia_slit.st"
						printf("vRaw; t=%d, b=%d", seqg_var->t_raw, seqg_var->b_raw);
# line 1321 "../xia_slit.st"
						printf("\n");
					}
# line 1321 "../xia_slit.st"
					;
# line 1322 "../xia_slit.st"
					if (seqg_var->vOrient == (0))
					{
# line 1323 "../xia_slit.st"
						if ((seqg_var->pos_a == seqg_var->t_raw) && (seqg_var->pos_b == seqg_var->b_raw))
						{
# line 1323 "../xia_slit.st"
							seqg_var->v_BusyOff = (0);
# line 1323 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 34/*v_BusyOff*/, SYNC, DEFAULT_TIMEOUT);
						}
# line 1323 "../xia_slit.st"
						;
					}
					else
					{
# line 1325 "../xia_slit.st"
						if ((seqg_var->pos_a == seqg_var->b_raw) && (seqg_var->pos_b == seqg_var->t_raw))
						{
# line 1325 "../xia_slit.st"
							seqg_var->v_BusyOff = (0);
# line 1325 "../xia_slit.st"
							seq_pvPutTmo(seqg_env, 34/*v_BusyOff*/, SYNC, DEFAULT_TIMEOUT);
						}
# line 1325 "../xia_slit.st"
						;
					}
				}
		}
		return;
	case 5:
		{
# line 1332 "../xia_slit.st"
			sscanf(seqg_var->word3, "%d", &seqg_var->pos_a);
# line 1333 "../xia_slit.st"
			sscanf(seqg_var->word4, "%d", &seqg_var->pos_b);
# line 1334 "../xia_slit.st"
			if (seqg_var->error)
			{
				{
# line 1335 "../xia_slit.st"
					seqg_var->error = (0);
# line 1335 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 111/*error*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 1335 "../xia_slit.st"
				;
				{
# line 1336 "../xia_slit.st"
					strcpy(seqg_var->errMsg, "no error");
# line 1336 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 112/*errMsg*/, SYNC, DEFAULT_TIMEOUT);
# line 1336 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 1336 "../xia_slit.st"
				;
			}
# line 1338 "../xia_slit.st"
			if (!strcmp(seqg_var->id, seqg_var->hID))
			{
# line 1339 "../xia_slit.st"
				seqg_var->pos_ag = (((seqg_var->pos_a) - (seqg_var->hOrigin)) / ((400.0)));
# line 1340 "../xia_slit.st"
				seqg_var->pos_bg = (((seqg_var->pos_b) - (seqg_var->hOrigin)) / ((400.0)));
			}
			else
			{
# line 1342 "../xia_slit.st"
				seqg_var->pos_ag = (((seqg_var->pos_a) - (seqg_var->vOrigin)) / ((400.0)));
# line 1343 "../xia_slit.st"
				seqg_var->pos_bg = (((seqg_var->pos_b) - (seqg_var->vOrigin)) / ((400.0)));
			}
		}
		return;
	case 6:
		{
# line 1350 "../xia_slit.st"
			printf("xia_slit: did not understand reply: '%s' '%s' '%s' '%s' '%s' '%s'\n", seqg_var->word1, seqg_var->word2, seqg_var->word3, seqg_var->word4, seqg_var->word5, seqg_var->word6);
# line 1351 "../xia_slit.st"
			epicsThreadSleep(.1);
		}
		return;
	}
}

/****** Code for state "update_positions" in state set "xiahsc" ******/

/* Event function for state "update_positions" in state set "xiahsc" */
static seqBool seqg_event_xiahsc_0_update_positions(SS_ID seqg_env, int *seqg_ptrn, int *seqg_pnst)
{
	if (TRUE)
	{
		*seqg_pnst = 5;
		*seqg_ptrn = 0;
		return TRUE;
	}
	return FALSE;
}

/* Action function for state "update_positions" in state set "xiahsc" */
static void seqg_action_xiahsc_0_update_positions(SS_ID seqg_env, int seqg_trn, int *seqg_pnst)
{
	switch(seqg_trn)
	{
	case 0:
		{
# line 1360 "../xia_slit.st"
			if (!strcmp(seqg_var->id, seqg_var->hID))
			{
# line 1361 "../xia_slit.st"
				if (seqg_var->hOrient == (0))
				{
					{
# line 1362 "../xia_slit.st"
						seqg_var->l_RB = (seqg_var->pos_ag);
# line 1362 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 73/*l_RB*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 1362 "../xia_slit.st"
					;
					{
# line 1363 "../xia_slit.st"
						seqg_var->r_RB = (seqg_var->pos_bg);
# line 1363 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 85/*r_RB*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 1363 "../xia_slit.st"
					;
				}
				else
				{
					{
# line 1365 "../xia_slit.st"
						seqg_var->r_RB = (seqg_var->pos_ag);
# line 1365 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 85/*r_RB*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 1365 "../xia_slit.st"
					;
					{
# line 1366 "../xia_slit.st"
						seqg_var->l_RB = (seqg_var->pos_bg);
# line 1366 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 73/*l_RB*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 1366 "../xia_slit.st"
					;
				}
				{
# line 1368 "../xia_slit.st"
					seqg_var->width_RB = (seqg_var->l_RB + seqg_var->r_RB);
# line 1368 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 103/*width_RB*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 1368 "../xia_slit.st"
				;
				{
# line 1369 "../xia_slit.st"
					seqg_var->h0_RB = ((seqg_var->r_RB - seqg_var->l_RB) / 2);
# line 1369 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 91/*h0_RB*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 1369 "../xia_slit.st"
				;
# line 1370 "../xia_slit.st"
				if (seqg_var->debug_flag >= 2)
				{
# line 1370 "../xia_slit.st"
					printf("<%s,%d,%s,%d> ", "../xia_slit.st", 1370, seqg_var->SNLtaskName, 2);
# line 1370 "../xia_slit.st"
					;
# line 1370 "../xia_slit.st"
					printf("%s\n", "update_positions: efSet(new_H_RB)");
# line 1370 "../xia_slit.st"
					epicsThreadSleep(0.01);
				}
# line 1370 "../xia_slit.st"
				;
# line 1371 "../xia_slit.st"
				seq_efSet(seqg_env, new_H_RB);
				{
# line 1372 "../xia_slit.st"
					seqg_var->hBusy = ((0));
# line 1372 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 28/*hBusy*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 1372 "../xia_slit.st"
				;
# line 1377 "../xia_slit.st"
				seqg_var->l_old = seqg_var->l_RB;
# line 1377 "../xia_slit.st"
				seqg_var->r_old = seqg_var->r_RB;
# line 1378 "../xia_slit.st"
				seqg_var->h0_old = seqg_var->h0_RB;
# line 1378 "../xia_slit.st"
				seqg_var->width_old = seqg_var->width_RB;
			}
# line 1381 "../xia_slit.st"
			if (!strcmp(seqg_var->id, seqg_var->vID))
			{
# line 1382 "../xia_slit.st"
				if (seqg_var->vOrient == (0))
				{
					{
# line 1383 "../xia_slit.st"
						seqg_var->t_RB = (seqg_var->pos_ag);
# line 1383 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 67/*t_RB*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 1383 "../xia_slit.st"
					;
					{
# line 1384 "../xia_slit.st"
						seqg_var->b_RB = (seqg_var->pos_bg);
# line 1384 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 79/*b_RB*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 1384 "../xia_slit.st"
					;
				}
				else
				{
					{
# line 1386 "../xia_slit.st"
						seqg_var->b_RB = (seqg_var->pos_ag);
# line 1386 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 79/*b_RB*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 1386 "../xia_slit.st"
					;
					{
# line 1387 "../xia_slit.st"
						seqg_var->t_RB = (seqg_var->pos_bg);
# line 1387 "../xia_slit.st"
						seq_pvPutTmo(seqg_env, 67/*t_RB*/, SYNC, DEFAULT_TIMEOUT);
					}
# line 1387 "../xia_slit.st"
					;
				}
				{
# line 1389 "../xia_slit.st"
					seqg_var->height_RB = (seqg_var->t_RB + seqg_var->b_RB);
# line 1389 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 109/*height_RB*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 1389 "../xia_slit.st"
				;
				{
# line 1390 "../xia_slit.st"
					seqg_var->v0_RB = ((seqg_var->t_RB - seqg_var->b_RB) / 2);
# line 1390 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 97/*v0_RB*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 1390 "../xia_slit.st"
				;
# line 1391 "../xia_slit.st"
				seq_efSet(seqg_env, new_V_RB);
				{
# line 1392 "../xia_slit.st"
					seqg_var->vBusy = ((0));
# line 1392 "../xia_slit.st"
					seq_pvPutTmo(seqg_env, 32/*vBusy*/, SYNC, DEFAULT_TIMEOUT);
				}
# line 1392 "../xia_slit.st"
				;
# line 1397 "../xia_slit.st"
				seqg_var->t_old = seqg_var->t_RB;
# line 1397 "../xia_slit.st"
				seqg_var->b_old = seqg_var->b_RB;
# line 1398 "../xia_slit.st"
				seqg_var->v0_old = seqg_var->v0_RB;
# line 1398 "../xia_slit.st"
				seqg_var->height_old = seqg_var->height_RB;
			}
		}
		return;
	}
}

#undef seqg_var

/************************ Tables ************************/

/* Channel table */
static seqChan seqg_chans[] = {
	/* chName, offset, varName, varType, count, eventNum, efId, monitored, queueSize, queueIndex */
	{"{S}.AINP", offsetof(struct seqg_vars, s_ainp), "s_ainp", P_STRING, 1, 23, 1, 1, 0, 0},
	{"{S}.TINP", offsetof(struct seqg_vars, s_tinp), "s_tinp", P_STRING, 1, 24, 0, 1, 0, 0},
	{"{S}.AOUT", offsetof(struct seqg_vars, s_aout), "s_aout", P_STRING, 1, 25, 0, 0, 0, 0},
	{"{S}.IEOS", offsetof(struct seqg_vars, s_ieos), "s_ieos", P_STRING, 1, 26, 0, 0, 0, 0},
	{"{S}.OEOS", offsetof(struct seqg_vars, s_oeos), "s_oeos", P_STRING, 1, 27, 0, 0, 0, 0},
	{"{S}.TMOT", offsetof(struct seqg_vars, s_tmot), "s_tmot", P_DOUBLE, 1, 28, 0, 1, 0, 0},
	{"{S}.OFMT", offsetof(struct seqg_vars, s_ofmt), "s_ofmt", P_SHORT, 1, 29, 0, 0, 0, 0},
	{"{S}.IFMT", offsetof(struct seqg_vars, s_ifmt), "s_ifmt", P_SHORT, 1, 30, 0, 0, 0, 0},
	{"{S}.PORT", offsetof(struct seqg_vars, s_port), "s_port", P_SHORT, 1, 31, 0, 0, 0, 0},
	{"{S}.TMOD", offsetof(struct seqg_vars, s_tmod), "s_tmod", P_SHORT, 1, 32, 0, 0, 0, 0},
	{"{S}.SCAN", offsetof(struct seqg_vars, s_scan), "s_scan", P_SHORT, 1, 33, 0, 0, 0, 0},
	{"{S}.NORD", offsetof(struct seqg_vars, s_nord), "s_nord", P_SHORT, 1, 34, 0, 1, 0, 0},
	{"{S}.NRRD", offsetof(struct seqg_vars, s_nrrd), "s_nrrd", P_SHORT, 1, 35, 0, 0, 0, 0},
	{"{S}.PROC", offsetof(struct seqg_vars, s_proc), "s_proc", P_SHORT, 1, 36, 0, 0, 0, 0},
	{"{S}.SEVR", offsetof(struct seqg_vars, s_sevr), "s_sevr", P_INT, 1, 37, 0, 1, 0, 0},
	{"{S}.OPTIONIV", offsetof(struct seqg_vars, s_optioniv), "s_optioniv", P_INT, 1, 38, 0, 0, 0, 0},
	{"{S}.BAUD", offsetof(struct seqg_vars, s_baud), "s_baud", P_SHORT, 1, 39, 0, 0, 0, 0},
	{"{S}.DBIT", offsetof(struct seqg_vars, s_dbit), "s_dbit", P_SHORT, 1, 40, 0, 0, 0, 0},
	{"{S}.SBIT", offsetof(struct seqg_vars, s_sbit), "s_sbit", P_SHORT, 1, 41, 0, 0, 0, 0},
	{"{S}.PRTY", offsetof(struct seqg_vars, s_prty), "s_prty", P_SHORT, 1, 42, 0, 0, 0, 0},
	{"{S}.MCTL", offsetof(struct seqg_vars, s_mctl), "s_mctl", P_SHORT, 1, 43, 0, 0, 0, 0},
	{"{S}.FCTL", offsetof(struct seqg_vars, s_fctl), "s_fctl", P_SHORT, 1, 44, 0, 0, 0, 0},
	{"{P}{HSC}debug", offsetof(struct seqg_vars, debug_flag), "debug_flag", P_INT, 1, 45, 0, 1, 0, 0},
	{"{P}{HSC}port", offsetof(struct seqg_vars, port), "port", P_STRING, 1, 46, 0, 0, 0, 0},
	{"{P}{HSC}hID", offsetof(struct seqg_vars, hID), "hID", P_STRING, 1, 47, 2, 1, 0, 0},
	{"{P}{HSC}vID", offsetof(struct seqg_vars, vID), "vID", P_STRING, 1, 48, 3, 1, 0, 0},
	{"{P}{HSC}hOrient", offsetof(struct seqg_vars, hOrient), "hOrient", P_SHORT, 1, 49, 4, 1, 0, 0},
	{"{P}{HSC}vOrient", offsetof(struct seqg_vars, vOrient), "vOrient", P_SHORT, 1, 50, 5, 1, 0, 0},
	{"{P}{HSC}hBusy", offsetof(struct seqg_vars, hBusy), "hBusy", P_SHORT, 1, 51, 0, 0, 0, 0},
	{"{P}{HSC}h_Busy", offsetof(struct seqg_vars, h_Busy), "h_Busy", P_SHORT, 1, 52, 0, 1, 0, 0},
	{"{P}{HSC}h_BusyOff.PROC", offsetof(struct seqg_vars, h_BusyOff), "h_BusyOff", P_SHORT, 1, 53, 0, 0, 0, 0},
	{"{P}{HSC}h_BusyDisable", offsetof(struct seqg_vars, h_BusyDisable), "h_BusyDisable", P_SHORT, 1, 54, 0, 0, 0, 0},
	{"{P}{HSC}vBusy", offsetof(struct seqg_vars, vBusy), "vBusy", P_SHORT, 1, 55, 0, 0, 0, 0},
	{"{P}{HSC}v_Busy", offsetof(struct seqg_vars, v_Busy), "v_Busy", P_SHORT, 1, 56, 0, 1, 0, 0},
	{"{P}{HSC}v_BusyOff.PROC", offsetof(struct seqg_vars, v_BusyOff), "v_BusyOff", P_SHORT, 1, 57, 0, 0, 0, 0},
	{"{P}{HSC}v_BusyDisable", offsetof(struct seqg_vars, v_BusyDisable), "v_BusyDisable", P_SHORT, 1, 58, 0, 0, 0, 0},
	{"{P}{HSC}stop", offsetof(struct seqg_vars, stop), "stop", P_SHORT, 1, 59, 6, 1, 0, 0},
	{"{P}{HSC}locate", offsetof(struct seqg_vars, locate), "locate", P_SHORT, 1, 60, 0, 1, 0, 0},
	{"{P}{HSC}init", offsetof(struct seqg_vars, init), "init", P_SHORT, 1, 61, 0, 1, 0, 0},
	{"{P}{HSC}enable", offsetof(struct seqg_vars, enable), "enable", P_SHORT, 1, 62, 0, 1, 0, 0},
	{"{P}{HSC}calib", offsetof(struct seqg_vars, calibrate), "calibrate", P_SHORT, 1, 63, 0, 1, 0, 0},
	{"{P}{HSC}hOuterLimitLI", offsetof(struct seqg_vars, hOuterLimit), "hOuterLimit", P_INT, 1, 64, 0, 1, 0, 0},
	{"{P}{HSC}vOuterLimitLI", offsetof(struct seqg_vars, vOuterLimit), "vOuterLimit", P_INT, 1, 65, 0, 1, 0, 0},
	{"{P}{HSC}hOriginLI", offsetof(struct seqg_vars, hOrigin), "hOrigin", P_INT, 1, 66, 0, 1, 0, 0},
	{"{P}{HSC}vOriginLI", offsetof(struct seqg_vars, vOrigin), "vOrigin", P_INT, 1, 67, 0, 1, 0, 0},
	{"{P}{HSC}hStepDelayLI", offsetof(struct seqg_vars, hStepDelay), "hStepDelay", P_INT, 1, 68, 0, 1, 0, 0},
	{"{P}{HSC}vStepDelayLI", offsetof(struct seqg_vars, vStepDelay), "vStepDelay", P_INT, 1, 69, 0, 1, 0, 0},
	{"{P}{HSC}hGearBacklashLI", offsetof(struct seqg_vars, hGearBacklash), "hGearBacklash", P_INT, 1, 70, 0, 1, 0, 0},
	{"{P}{HSC}vGearBacklashLI", offsetof(struct seqg_vars, vGearBacklash), "vGearBacklash", P_INT, 1, 71, 0, 1, 0, 0},
	{"{P}{HSC}hStatPwrMI", offsetof(struct seqg_vars, hStPwr), "hStPwr", P_INT, 1, 72, 0, 1, 0, 0},
	{"{P}{HSC}hStatLmtsBI", offsetof(struct seqg_vars, hStLmts), "hStLmts", P_INT, 1, 73, 0, 1, 0, 0},
	{"{P}{HSC}hStatBanBI", offsetof(struct seqg_vars, hStBan), "hStBan", P_INT, 1, 74, 0, 1, 0, 0},
	{"{P}{HSC}hStatEchoBI", offsetof(struct seqg_vars, hStEcho), "hStEcho", P_INT, 1, 75, 0, 1, 0, 0},
	{"{P}{HSC}hStatLockBI", offsetof(struct seqg_vars, hStLock), "hStLock", P_INT, 1, 76, 0, 1, 0, 0},
	{"{P}{HSC}hStatAliasBI", offsetof(struct seqg_vars, hStAlias), "hStAlias", P_INT, 1, 77, 0, 1, 0, 0},
	{"{P}{HSC}hStatTextBI", offsetof(struct seqg_vars, hStText), "hStText", P_INT, 1, 78, 0, 1, 0, 0},
	{"{P}{HSC}vStatPwrMI", offsetof(struct seqg_vars, vStPwr), "vStPwr", P_INT, 1, 79, 0, 1, 0, 0},
	{"{P}{HSC}vStatLmtsBI", offsetof(struct seqg_vars, vStLmts), "vStLmts", P_INT, 1, 80, 0, 1, 0, 0},
	{"{P}{HSC}vStatBanBI", offsetof(struct seqg_vars, vStBan), "vStBan", P_INT, 1, 81, 0, 1, 0, 0},
	{"{P}{HSC}vStatEchoBI", offsetof(struct seqg_vars, vStEcho), "vStEcho", P_INT, 1, 82, 0, 1, 0, 0},
	{"{P}{HSC}vStatLockBI", offsetof(struct seqg_vars, vStLock), "vStLock", P_INT, 1, 83, 0, 1, 0, 0},
	{"{P}{HSC}vStatAliasBI", offsetof(struct seqg_vars, vStAlias), "vStAlias", P_INT, 1, 84, 0, 1, 0, 0},
	{"{P}{HSC}vStatTextBI", offsetof(struct seqg_vars, vStText), "vStText", P_INT, 1, 85, 0, 1, 0, 0},
	{"{P}{HSC}t", offsetof(struct seqg_vars, t), "t", P_DOUBLE, 1, 86, 0, 1, 0, 0},
	{"{P}{HSC}t_event", offsetof(struct seqg_vars, t_event), "t_event", P_DOUBLE, 1, 87, 7, 1, 0, 0},
	{"{P}{HSC}t.HOPR", offsetof(struct seqg_vars, t_hi), "t_hi", P_DOUBLE, 1, 88, 0, 1, 0, 0},
	{"{P}{HSC}t.LOPR", offsetof(struct seqg_vars, t_lo), "t_lo", P_DOUBLE, 1, 89, 0, 1, 0, 0},
	{"{P}{HSC}tRB", offsetof(struct seqg_vars, t_RB), "t_RB", P_DOUBLE, 1, 90, 0, 1, 0, 0},
	{"{P}{HSC}load_t.B", offsetof(struct seqg_vars, load_t), "load_t", P_DOUBLE, 1, 91, 0, 0, 0, 0},
	{"{P}{HSC}l", offsetof(struct seqg_vars, l), "l", P_DOUBLE, 1, 92, 0, 1, 0, 0},
	{"{P}{HSC}l_event", offsetof(struct seqg_vars, l_event), "l_event", P_DOUBLE, 1, 93, 8, 1, 0, 0},
	{"{P}{HSC}l.HOPR", offsetof(struct seqg_vars, l_hi), "l_hi", P_DOUBLE, 1, 94, 0, 1, 0, 0},
	{"{P}{HSC}l.LOPR", offsetof(struct seqg_vars, l_lo), "l_lo", P_DOUBLE, 1, 95, 0, 1, 0, 0},
	{"{P}{HSC}lRB", offsetof(struct seqg_vars, l_RB), "l_RB", P_DOUBLE, 1, 96, 0, 1, 0, 0},
	{"{P}{HSC}load_l.B", offsetof(struct seqg_vars, load_l), "load_l", P_DOUBLE, 1, 97, 0, 0, 0, 0},
	{"{P}{HSC}b", offsetof(struct seqg_vars, b), "b", P_DOUBLE, 1, 98, 0, 1, 0, 0},
	{"{P}{HSC}b_event", offsetof(struct seqg_vars, b_event), "b_event", P_DOUBLE, 1, 99, 9, 1, 0, 0},
	{"{P}{HSC}b.HOPR", offsetof(struct seqg_vars, b_hi), "b_hi", P_DOUBLE, 1, 100, 0, 1, 0, 0},
	{"{P}{HSC}b.LOPR", offsetof(struct seqg_vars, b_lo), "b_lo", P_DOUBLE, 1, 101, 0, 1, 0, 0},
	{"{P}{HSC}bRB", offsetof(struct seqg_vars, b_RB), "b_RB", P_DOUBLE, 1, 102, 0, 1, 0, 0},
	{"{P}{HSC}load_b.B", offsetof(struct seqg_vars, load_b), "load_b", P_DOUBLE, 1, 103, 0, 0, 0, 0},
	{"{P}{HSC}r", offsetof(struct seqg_vars, r), "r", P_DOUBLE, 1, 104, 0, 1, 0, 0},
	{"{P}{HSC}r_event", offsetof(struct seqg_vars, r_event), "r_event", P_DOUBLE, 1, 105, 10, 1, 0, 0},
	{"{P}{HSC}r.HOPR", offsetof(struct seqg_vars, r_hi), "r_hi", P_DOUBLE, 1, 106, 0, 1, 0, 0},
	{"{P}{HSC}r.LOPR", offsetof(struct seqg_vars, r_lo), "r_lo", P_DOUBLE, 1, 107, 0, 1, 0, 0},
	{"{P}{HSC}rRB", offsetof(struct seqg_vars, r_RB), "r_RB", P_DOUBLE, 1, 108, 0, 1, 0, 0},
	{"{P}{HSC}load_r.B", offsetof(struct seqg_vars, load_r), "load_r", P_DOUBLE, 1, 109, 0, 0, 0, 0},
	{"{P}{HSC}h0", offsetof(struct seqg_vars, h0), "h0", P_DOUBLE, 1, 110, 0, 1, 0, 0},
	{"{P}{HSC}h0_event", offsetof(struct seqg_vars, h0_event), "h0_event", P_DOUBLE, 1, 111, 11, 1, 0, 0},
	{"{P}{HSC}h0.HOPR", offsetof(struct seqg_vars, h0_hi), "h0_hi", P_DOUBLE, 1, 112, 0, 1, 0, 0},
	{"{P}{HSC}h0.LOPR", offsetof(struct seqg_vars, h0_lo), "h0_lo", P_DOUBLE, 1, 113, 0, 1, 0, 0},
	{"{P}{HSC}h0RB", offsetof(struct seqg_vars, h0_RB), "h0_RB", P_DOUBLE, 1, 114, 0, 1, 0, 0},
	{"{P}{HSC}load_h0.B", offsetof(struct seqg_vars, load_h0), "load_h0", P_DOUBLE, 1, 115, 0, 0, 0, 0},
	{"{P}{HSC}v0", offsetof(struct seqg_vars, v0), "v0", P_DOUBLE, 1, 116, 0, 1, 0, 0},
	{"{P}{HSC}v0_event", offsetof(struct seqg_vars, v0_event), "v0_event", P_DOUBLE, 1, 117, 12, 1, 0, 0},
	{"{P}{HSC}v0.HOPR", offsetof(struct seqg_vars, v0_hi), "v0_hi", P_DOUBLE, 1, 118, 0, 1, 0, 0},
	{"{P}{HSC}v0.LOPR", offsetof(struct seqg_vars, v0_lo), "v0_lo", P_DOUBLE, 1, 119, 0, 1, 0, 0},
	{"{P}{HSC}v0RB", offsetof(struct seqg_vars, v0_RB), "v0_RB", P_DOUBLE, 1, 120, 0, 1, 0, 0},
	{"{P}{HSC}load_v0.B", offsetof(struct seqg_vars, load_v0), "load_v0", P_DOUBLE, 1, 121, 0, 0, 0, 0},
	{"{P}{HSC}width", offsetof(struct seqg_vars, width), "width", P_DOUBLE, 1, 122, 0, 1, 0, 0},
	{"{P}{HSC}width_event", offsetof(struct seqg_vars, width_event), "width_event", P_DOUBLE, 1, 123, 13, 1, 0, 0},
	{"{P}{HSC}width.HOPR", offsetof(struct seqg_vars, width_hi), "width_hi", P_DOUBLE, 1, 124, 0, 1, 0, 0},
	{"{P}{HSC}width.LOPR", offsetof(struct seqg_vars, width_lo), "width_lo", P_DOUBLE, 1, 125, 0, 1, 0, 0},
	{"{P}{HSC}widthRB", offsetof(struct seqg_vars, width_RB), "width_RB", P_DOUBLE, 1, 126, 0, 1, 0, 0},
	{"{P}{HSC}load_width.B", offsetof(struct seqg_vars, load_width), "load_width", P_DOUBLE, 1, 127, 0, 0, 0, 0},
	{"{P}{HSC}height", offsetof(struct seqg_vars, height), "height", P_DOUBLE, 1, 128, 0, 1, 0, 0},
	{"{P}{HSC}height_event", offsetof(struct seqg_vars, height_event), "height_event", P_DOUBLE, 1, 129, 14, 1, 0, 0},
	{"{P}{HSC}height.HOPR", offsetof(struct seqg_vars, height_hi), "height_hi", P_DOUBLE, 1, 130, 0, 1, 0, 0},
	{"{P}{HSC}height.LOPR", offsetof(struct seqg_vars, height_lo), "height_lo", P_DOUBLE, 1, 131, 0, 1, 0, 0},
	{"{P}{HSC}heightRB", offsetof(struct seqg_vars, height_RB), "height_RB", P_DOUBLE, 1, 132, 0, 1, 0, 0},
	{"{P}{HSC}load_height.B", offsetof(struct seqg_vars, load_height), "load_height", P_DOUBLE, 1, 133, 0, 0, 0, 0},
	{"{P}{HSC}error", offsetof(struct seqg_vars, error), "error", P_INT, 1, 134, 0, 0, 0, 0},
	{"{P}{HSC}errMsg", offsetof(struct seqg_vars, errMsg), "errMsg", P_STRING, 1, 135, 0, 0, 0, 0},
};

/* Event masks for state set "xiahsc" */
static const seqMask seqg_mask_xiahsc_0_startup[] = {
	0x00000000,
	0x00000000,
	0x00000000,
	0x00000000,
	0x00000000,
};
static const seqMask seqg_mask_xiahsc_0_disable[] = {
	0x00000000,
	0x40000000,
	0x00000000,
	0x00000000,
	0x00000000,
};
static const seqMask seqg_mask_xiahsc_0_comm_error[] = {
	0x00000000,
	0x20000020,
	0x00000000,
	0x00000000,
	0x00000000,
};
static const seqMask seqg_mask_xiahsc_0_init[] = {
	0x0000000c,
	0x60000000,
	0x00000000,
	0x00000000,
	0x00000000,
};
static const seqMask seqg_mask_xiahsc_0_init_limits[] = {
	0x00000000,
	0x00000000,
	0x00000000,
	0x00000000,
	0x00000000,
};
static const seqMask seqg_mask_xiahsc_0_idle[] = {
	0x001fffc0,
	0xf8880000,
	0x00000000,
	0x00000000,
	0x00000000,
};
static const seqMask seqg_mask_xiahsc_0_premove[] = {
	0x00007f80,
	0x00000000,
	0x10400000,
	0x04104104,
	0x00000001,
};
static const seqMask seqg_mask_xiahsc_0_process_response[] = {
	0x00000000,
	0x00000000,
	0x00000000,
	0x00000000,
	0x00000000,
};
static const seqMask seqg_mask_xiahsc_0_update_positions[] = {
	0x00000000,
	0x00000000,
	0x00000000,
	0x00000000,
	0x00000000,
};

/* State table for state set "xiahsc" */
static seqState seqg_states_xiahsc[] = {
	{
	/* state name */        "startup",
	/* action function */   seqg_action_xiahsc_0_startup,
	/* event function */    seqg_event_xiahsc_0_startup,
	/* entry function */    0,
	/* exit function */     0,
	/* event mask array */  seqg_mask_xiahsc_0_startup,
	/* state options */     (0)
	},
	{
	/* state name */        "disable",
	/* action function */   seqg_action_xiahsc_0_disable,
	/* event function */    seqg_event_xiahsc_0_disable,
	/* entry function */    0,
	/* exit function */     0,
	/* event mask array */  seqg_mask_xiahsc_0_disable,
	/* state options */     (0)
	},
	{
	/* state name */        "comm_error",
	/* action function */   seqg_action_xiahsc_0_comm_error,
	/* event function */    seqg_event_xiahsc_0_comm_error,
	/* entry function */    0,
	/* exit function */     0,
	/* event mask array */  seqg_mask_xiahsc_0_comm_error,
	/* state options */     (0)
	},
	{
	/* state name */        "init",
	/* action function */   seqg_action_xiahsc_0_init,
	/* event function */    seqg_event_xiahsc_0_init,
	/* entry function */    0,
	/* exit function */     0,
	/* event mask array */  seqg_mask_xiahsc_0_init,
	/* state options */     (0)
	},
	{
	/* state name */        "init_limits",
	/* action function */   seqg_action_xiahsc_0_init_limits,
	/* event function */    seqg_event_xiahsc_0_init_limits,
	/* entry function */    0,
	/* exit function */     0,
	/* event mask array */  seqg_mask_xiahsc_0_init_limits,
	/* state options */     (0)
	},
	{
	/* state name */        "idle",
	/* action function */   seqg_action_xiahsc_0_idle,
	/* event function */    seqg_event_xiahsc_0_idle,
	/* entry function */    0,
	/* exit function */     0,
	/* event mask array */  seqg_mask_xiahsc_0_idle,
	/* state options */     (0)
	},
	{
	/* state name */        "premove",
	/* action function */   seqg_action_xiahsc_0_premove,
	/* event function */    seqg_event_xiahsc_0_premove,
	/* entry function */    0,
	/* exit function */     0,
	/* event mask array */  seqg_mask_xiahsc_0_premove,
	/* state options */     (0)
	},
	{
	/* state name */        "process_response",
	/* action function */   seqg_action_xiahsc_0_process_response,
	/* event function */    seqg_event_xiahsc_0_process_response,
	/* entry function */    seqg_entry_xiahsc_0_process_response,
	/* exit function */     0,
	/* event mask array */  seqg_mask_xiahsc_0_process_response,
	/* state options */     (0)
	},
	{
	/* state name */        "update_positions",
	/* action function */   seqg_action_xiahsc_0_update_positions,
	/* event function */    seqg_event_xiahsc_0_update_positions,
	/* entry function */    0,
	/* exit function */     0,
	/* event mask array */  seqg_mask_xiahsc_0_update_positions,
	/* state options */     (0)
	},
};

/* State set table */
static seqSS seqg_statesets[] = {
	{
	/* state set name */    "xiahsc",
	/* states */            seqg_states_xiahsc,
	/* number of states */  9
	},
};

/* Program table (global) */
seqProgram xia_slit = {
	/* magic number */      2002005,
	/* program name */      "xia_slit",
	/* channels */          seqg_chans,
	/* num. channels */     113,
	/* state sets */        seqg_statesets,
	/* num. state sets */   1,
	/* user var size */     sizeof(struct seqg_vars),
	/* param */             "name=hsc1,P=pfx:,HSC=hsc1:,S=pfx:serial9",
	/* num. event flags */  22,
	/* encoded options */   (0 | OPT_DEBUG | OPT_NEWEF | OPT_REENT),
	/* init func */         seqg_init,
	/* entry func */        0,
	/* exit func */         0,
	/* num. queues */       0
};

/* Register sequencer commands and program */
#include "epicsExport.h"
static void xia_slitRegistrar (void) {
    seqRegisterSequencerCommands();
    seqRegisterSequencerProgram (&xia_slit);
}
epicsExportRegistrar(xia_slitRegistrar);
